(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{8444:function(t,e){"use strict";function n(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function r(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function o(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");n(t.outputLen),n(t.blockLen)}function s(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")}function a(t,e){i(t);let n=e.outputLen;if(t.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(e,"__esModule",{value:!0}),e.output=e.exists=e.hash=e.bytes=e.bool=e.number=void 0,e.number=n,e.bool=r,e.bytes=i,e.hash=o,e.exists=s,e.output=a,e.default={number:n,bool:r,bytes:i,hash:o,exists:s,output:a}},307:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;let r=n(8444),i=n(8772);class o extends i.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.createView)(this.buffer)}update(t){r.default.exists(this);let{view:e,buffer:n,blockLen:o}=this,s=(t=(0,i.toBytes)(t)).length;for(let r=0;r<s;){let a=Math.min(o-this.pos,s-r);if(a===o){let e=(0,i.createView)(t);for(;o<=s-r;r+=o)this.process(e,r);continue}n.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){r.default.exists(this),r.default.output(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:s}=this,{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);let i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;t.setUint32(e+u,s,r),t.setUint32(e+c,a,r)}(n,o-8,BigInt(8*this.length),s),this.process(n,0);let u=(0,i.createView)(t),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,f=this.get();if(l>f.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)u.setUint32(4*t,f[t],s)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}}e.SHA2=o},2302:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},6530:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;let r=n(8444),i=n(8772);class o extends i.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,r.default.hash(t);let n=(0,i.toBytes)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return r.default.exists(this),this.iHash.update(t),this}digestInto(t){r.default.exists(this),r.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,n)=>new o(t,e).update(n).digest(),e.hmac.create=(t,e)=>new o(t,e)},9470:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha224=e.sha256=void 0;let r=n(307),i=n(8772),o=(t,e,n)=>t&e^~t&n,s=(t,e,n)=>t&e^t&n^e&n,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}get(){let{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=c[t-15],n=c[t-2],r=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;c[t]=o+c[t-7]+r+c[t-16]|0}let{A:n,B:r,C:u,D:l,E:f,F:h,G:d,H:p}=this;for(let t=0;t<64;t++){let e=p+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+o(f,h,d)+a[t]+c[t]|0,y=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+s(n,r,u)|0;p=d,d=h,h=f,f=l+e|0,l=u,u=r,r=n,n=e+y|0}n=n+this.A|0,r=r+this.B|0,u=u+this.C|0,l=l+this.D|0,f=f+this.E|0,h=h+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,r,u,l,f,h,d,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.sha256=(0,i.wrapConstructor)(()=>new l),e.sha224=(0,i.wrapConstructor)(()=>new f)},8772:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;let r=n(2302);if(e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw Error("Non little-endian hardware is not supported");let i=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));e.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=i[t[n]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){let r=2*n,i=Number.parseInt(t.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");e[n]=i}return e};let o=async()=>{};async function s(t,n,r){let i=Date.now();for(let o=0;o<t;o++){r(o);let t=Date.now()-i;t>=0&&t<n||(await (0,e.nextTick)(),i+=t)}}function a(t){if("string"!=typeof t)throw TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function u(t){if("string"==typeof t&&(t=a(t)),!(t instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}e.nextTick=o,e.asyncLoop=s,e.utf8ToBytes=a,e.toBytes=u,e.concatBytes=function(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e};class c{clone(){return this._cloneInto()}}e.Hash=c;let l=t=>"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object;e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||!l(e)))throw TypeError("Options should be object or undefined");return Object.assign(t,e)},e.wrapConstructor=function(t){let e=e=>t().update(u(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){let e=(e,n)=>t(n).update(u(e)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(t));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(t).buffer);throw Error("The environment doesn't have randomBytes function")}},4938:function(t,e,n){"use strict";let r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;let o=n(9159),s=BigInt(0),a=BigInt(1),u=BigInt(2),c=BigInt(3),l=BigInt(8),f=Object.freeze({a:s,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:a,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=f;let h=(t,e)=>(t+e/u)/e,d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=f,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-a*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=h(n*t,e),u=h(-r*t,e),c=k(t-s*n-u*i,e),l=k(-s*r-u*n,e),d=c>o,p=l>o;if(d&&(c=e-c),p&&(l=e-l),c>o||l>o)throw Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:p,k2:l}}};function p(t){let{a:e,b:n}=f,r=k(t*t),i=k(r*t);return k(i+e*t+n)}let y=f.a===s;class g extends Error{constructor(t){super(t)}}function w(t){if(!(t instanceof m))throw TypeError("JacobianPoint expected")}class m{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof E))throw TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(E.ZERO)?m.ZERO:new m(t.x,t.y,a)}static toAffineBatch(t){let e=function(t,e=f.P){let n=Array(t.length),r=_(t.reduce((t,r,i)=>r===s?t:(n[i]=t,k(t*r,e)),a),e);return t.reduceRight((t,r,i)=>r===s?t:(n[i]=k(t*n[i],e),k(t*r,e)),r),n}(t.map(t=>t.z));return t.map((t,n)=>t.toAffine(e[n]))}static normalizeZ(t){return m.toAffineBatch(t).map(m.fromAffine)}equals(t){w(t);let{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t,a=k(r*r),u=k(s*s),c=k(e*u),l=k(i*a),f=k(k(n*s)*u),h=k(k(o*r)*a);return c===l&&f===h}negate(){return new m(this.x,k(-this.y),this.z)}double(){let{x:t,y:e,z:n}=this,r=k(t*t),i=k(e*e),o=k(i*i),s=t+i,a=k(u*(k(s*s)-r-o)),f=k(c*r),h=k(f*f),d=k(h-u*a),p=k(f*(a-d)-l*o);return new m(d,p,k(u*e*n))}add(t){w(t);let{x:e,y:n,z:r}=this,{x:i,y:o,z:a}=t;if(i===s||o===s)return this;if(e===s||n===s)return t;let c=k(r*r),l=k(a*a),f=k(e*l),h=k(i*c),d=k(k(n*a)*l),p=k(k(o*r)*c),y=k(h-f),g=k(p-d);if(y===s)return g===s?this.double():m.ZERO;let b=k(y*y),S=k(y*b),E=k(f*b),v=k(g*g-S-u*E),A=k(g*(E-v)-d*S);return new m(v,A,k(r*a*y))}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let e=m.ZERO;if("bigint"==typeof t&&t===s)return e;let n=O(t);if(n===a)return this;if(!y){let t=e,r=this;for(;n>s;)n&a&&(t=t.add(r)),r=r.double(),n>>=a;return t}let{k1neg:r,k1:i,k2neg:o,k2:u}=d.splitScalar(n),c=e,l=e,f=this;for(;i>s||u>s;)i&a&&(c=c.add(f)),u&a&&(l=l.add(f)),f=f.double(),i>>=a,u>>=a;return r&&(c=c.negate()),o&&(l=l.negate()),l=new m(k(l.x*d.beta),l.y,l.z),c.add(l)}precomputeWindow(t){let e=y?128/t+1:256/t+1,n=[],r=this,i=r;for(let o=0;o<e;o++){i=r,n.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&&this.equals(m.BASE)&&(e=E.BASE);let n=e&&e._WINDOW_SIZE||1;if(256%n)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&S.get(e);!r&&(r=this.precomputeWindow(n),e&&1!==n&&(r=m.normalizeZ(r),S.set(e,r)));let i=m.ZERO,o=m.BASE,s=1+(y?128/n:256/n),u=2**(n-1),c=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let e=0;e<s;e++){let n=e*u,s=Number(t&c);t>>=f,s>u&&(s-=l,t+=a);let h=n+Math.abs(s)-1,d=e%2!=0,p=s<0;0===s?o=o.add(b(d,r[n])):i=i.add(b(p,r[h]))}return{p:i,f:o}}multiply(t,e){let n,r,i=O(t);if(y){let{k1neg:t,k1:o,k2neg:s,k2:a}=d.splitScalar(i),{p:u,f:c}=this.wNAF(o,e),{p:l,f:f}=this.wNAF(a,e);u=b(t,u),l=new m(k((l=b(s,l)).x*d.beta),l.y,l.z),n=u.add(l),r=c.add(f)}else{let{p:t,f:o}=this.wNAF(i,e);n=t,r=o}return m.normalizeZ([n,r])[0]}toAffine(t){let{x:e,y:n,z:r}=this,i=this.equals(m.ZERO);null==t&&(t=i?l:_(r));let o=t,s=k(o*o),u=k(s*o),c=k(e*s),f=k(n*u),h=k(r*o);if(i)return E.ZERO;if(h!==a)throw Error("invZ was invalid");return new E(c,f)}}function b(t,e){let n=e.negate();return t?n:e}m.BASE=new m(f.Gx,f.Gy,a),m.ZERO=new m(s,a,s);let S=new WeakMap;class E{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,S.delete(this)}hasEvenY(){return this.y%u===s}static fromCompressedHex(t){let e=32===t.length,n=P(e?t:t.subarray(1));if(!F(n))throw Error("Point is not on curve");let r=function(t){let{P:e}=f,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),l=t*t*t%e,h=l*l*t%e,d=B(h,c)*h%e,p=B(d,c)*h%e,y=B(p,u)*l%e,g=B(y,r)*y%e,w=B(g,i)*g%e,m=B(w,s)*w%e,b=B(m,a)*m%e,S=B(b,s)*w%e,E=B(S,c)*h%e,v=B(E,o)*g%e,A=B(v,n)*l%e,x=B(A,u);if(x*x%e!==t)throw Error("Cannot find square root");return x}(p(n)),i=(r&a)===a;e?i&&(r=k(-r)):(1&t[0])==1!==i&&(r=k(-r));let o=new E(n,r);return o.assertValidity(),o}static fromUncompressedHex(t){let e=new E(P(t.subarray(1,33)),P(t.subarray(33,65)));return e.assertValidity(),e}static fromHex(t){let e=U(t),n=e.length,r=e[0];if(32===n||33===n&&(2===r||3===r))return this.fromCompressedHex(e);if(65===n&&4===r)return this.fromUncompressedHex(e);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return E.BASE.multiply(W(t))}static fromSignature(t,e,n){let{r,s:i}=V(e);if(![0,1,2,3].includes(n))throw Error("Cannot recover: invalid recovery bit");let o=H(U(t)),{n:s}=f,a=2===n||3===n?r+s:r,u=_(a,s),c=k(-o*u,s),l=k(i*u,s),h=1&n?"03":"02",d=E.fromHex(h+N(a)),p=E.BASE.multiplyAndAddUnsafe(d,c,l);if(!p)throw Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return D(this.toHex(t))}toHex(t=!1){let e=N(this.x);if(!t)return`04${e}${N(this.y)}`;{let t=this.hasEvenY()?"02":"03";return`${t}${e}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:e,y:n}=this;if(!F(e)||!F(n))throw Error(t);let r=k(n*n);if(k(r-p(e))!==s)throw Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new E(this.x,k(-this.y))}double(){return m.fromAffine(this).double().toAffine()}add(t){return m.fromAffine(this).add(m.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return m.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){let r=m.fromAffine(this),i=e===s||e===a||this!==E.BASE?r.multiplyUnsafe(e):r.multiply(e),o=m.fromAffine(t).multiplyUnsafe(n),u=i.add(o);return u.equals(m.ZERO)?void 0:u.toAffine()}}function v(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function A(t){if(t.length<2||2!==t[0])throw Error(`Invalid signature integer tag: ${C(t)}`);let e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:P(n),left:t.subarray(e+2)}}e.Point=E,E.BASE=new E(f.Gx,f.Gy),E.ZERO=new E(s,s);class x{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){let e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw TypeError(`${n}: Expected string or Uint8Array`);let r=e?C(t):t;if(128!==r.length)throw Error(`${n}: Expected 64-byte hex`);return new x($(r.slice(0,64)),$(r.slice(64,128)))}static fromDER(t){let e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw Error(`Invalid signature tag: ${C(t)}`);if(t[1]!==t.length-2)throw Error("Invalid signature: incorrect length");let{data:e,left:n}=A(t.subarray(2)),{data:r,left:i}=A(n);if(i.length)throw Error(`Invalid signature: left bytes after parsing: ${C(i)}`);return{r:e,s:r}}(e?t:D(t));return new x(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:e}=this;if(!z(t))throw Error("Invalid Signature: r must be 0 < r < n");if(!z(e))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=f.n>>a;return this.s>t}normalizeS(){return this.hasHighS()?new x(this.r,k(-this.s,f.n)):this}toDERRawBytes(){return D(this.toDERHex())}toDERHex(){let t=v(j(this.s)),e=v(j(this.r)),n=t.length/2,r=e.length/2,i=j(n),o=j(r),s=j(r+n+4);return`30${s}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return D(this.toCompactHex())}toCompactHex(){return N(this.r)+N(this.s)}}function M(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e}e.Signature=x;let I=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function C(t){if(!(t instanceof Uint8Array))throw Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=I[t[n]];return e}let T=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function N(t){if("bigint"!=typeof t)throw Error("Expected bigint");if(!(s<=t&&t<T))throw Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function L(t){let e=D(N(t));if(32!==e.length)throw Error("Error: expected 32 bytes");return e}function j(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function $(t){if("string"!=typeof t)throw TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function D(t){if("string"!=typeof t)throw TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){let r=2*n,i=Number.parseInt(t.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");e[n]=i}return e}function P(t){return $(C(t))}function U(t){return t instanceof Uint8Array?Uint8Array.from(t):D(t)}function O(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&z(t))return t;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function k(t,e=f.P){let n=t%e;return n>=s?n:e+n}function B(t,e){let{P:n}=f,r=t;for(;e-- >s;)r*=r,r%=n;return r}function _(t,e=f.P){if(t===s||e<=s)throw Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=k(t,e),r=e,i=s,o=a,u=a,c=s;for(;n!==s;){let t=r/n,e=r%n,s=i-u*t,a=o-c*t;r=n,n=e,i=u,o=c,u=s,c=a}if(r!==a)throw Error("invert: does not exist");return k(i,e)}function H(t,e=!1){let n=function(t){let e=8*t.length-256,n=P(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;let{n:r}=f;return n>=r?n-r:n}class R{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return e.utils.hmacSha256(this.k,...t)}hmacSync(...t){return i(this.k,...t)}checkSync(){if("function"!=typeof i)throw new g("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();e.push(n),t+=this.v.length}return M(...e)}generateSync(){this.checkSync(),this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();e.push(n),t+=this.v.length}return M(...e)}}function z(t){return s<t&&t<f.n}function F(t){return s<t&&t<f.P}function K(t,e,n,r=!0){let{n:i}=f,o=H(t,!0);if(!z(o))return;let u=_(o,i),c=E.BASE.multiply(o),l=k(c.x,i);if(l===s)return;let h=k(u*k(e+n*l,i),i);if(h===s)return;let d=new x(l,h),p=(c.x===d.r?0:2)|Number(c.y&a);return r&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function W(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(64!==t.length)throw Error("Expected 32 bytes of private key");e=$(t)}else if(t instanceof Uint8Array){if(32!==t.length)throw Error("Expected 32 bytes of private key");e=P(t)}else throw TypeError("Expected valid private key");if(!z(e))throw Error("Expected private key: 0 < key < n");return e}function G(t){return t instanceof E?(t.assertValidity(),t):E.fromHex(t)}function V(t){if(t instanceof x)return t.assertValidity(),t;try{return x.fromDER(t)}catch(e){return x.fromCompact(t)}}function Y(t){let e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?33===r||65===r:n?66===r||130===r:t instanceof E}function Q(t){return P(t.length>32?t.slice(0,32):t)}function q(t,n,r){if(null==t)throw Error(`sign: expected valid message hash, not "${t}"`);let i=U(t),o=W(n),a=[L(o),function(t){let e=Q(t),n=k(e,f.n);return L(n<s?e:n)}(i)];if(null!=r){!0===r&&(r=e.utils.randomBytes(32));let t=U(r);if(32!==t.length)throw Error("sign: Expected 32 bytes of extra data");a.push(t)}return{seed:M(...a),m:Q(i),d:o}}function Z(t,e){let{sig:n,recovery:r}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[s,r]:s}async function X(t,e,n={}){let r;let{seed:i,m:o,d:s}=q(t,e,n.extraEntropy),a=new R(32,32);for(await a.reseed(i);!(r=K(await a.generate(),o,s,n.canonical));)await a.reseed();return Z(r,n)}e.getPublicKey=function(t,e=!1){return E.fromPrivateKey(t).toRawBytes(e)},e.recoverPublicKey=function(t,e,n,r=!1){return E.fromSignature(t,e,n).toRawBytes(r)},e.getSharedSecret=function(t,e,n=!1){if(Y(t))throw TypeError("getSharedSecret: first arg must be private key");if(!Y(e))throw TypeError("getSharedSecret: second arg must be public key");let r=G(e);return r.assertValidity(),r.multiply(W(t)).toRawBytes(n)},e.sign=X,e.signSync=function(t,e,n={}){let r;let{seed:i,m:o,d:s}=q(t,e,n.extraEntropy),a=new R(32,32);for(a.reseedSync(i);!(r=K(a.generateSync(),o,s,n.canonical));)a.reseedSync();return Z(r,n)};let J={strict:!0};function tt(t){return k(P(t),f.n)}e.verify=function(t,e,n,r=J){let i,o;try{i=V(t),e=U(e)}catch(t){return!1}let{r:s,s:a}=i;if(r.strict&&i.hasHighS())return!1;let u=H(e);try{o=G(n)}catch(t){return!1}let{n:c}=f,l=_(a,c),h=k(u*l,c),d=k(s*l,c),p=E.BASE.multiplyAndAddUnsafe(o,h,d);return!!p&&k(p.x,c)===s};class te{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){let e=U(t);if(64!==e.length)throw TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);return new te(P(e.subarray(0,32)),P(e.subarray(32,64)))}assertValidity(){let{r:t,s:e}=this;if(!F(t)||!z(e))throw Error("Invalid signature")}toHex(){return N(this.r)+N(this.s)}toRawBytes(){return D(this.toHex())}}class tn{constructor(t,n,r=e.utils.randomBytes()){if(null==t)throw TypeError(`sign: Expected valid message, not "${t}"`);this.m=U(t);let{x:i,scalar:o}=this.getScalar(W(n));if(this.px=i,this.d=o,this.rand=U(r),32!==this.rand.length)throw TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){let e=E.fromPrivateKey(t),n=e.hasEvenY()?t:f.n-t;return{point:e,scalar:n,x:e.toRawX()}}initNonce(t,e){return L(t^P(e))}finalizeNonce(t){let e=k(P(t),f.n);if(e===s)throw Error("sign: Creation of signature failed. k is zero");let{point:n,x:r,scalar:i}=this.getScalar(e);return{R:n,rx:r,k:i}}finalizeSig(t,e,n,r){return new te(t.x,k(e+n*r,f.n)).toRawBytes()}error(){throw Error("sign: Invalid signature produced")}async calc(){let{m:t,d:n,px:r,rand:i}=this,o=e.utils.taggedHash,s=this.initNonce(n,await o(tc.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(await o(tc.nonce,s,r,t)),l=tt(await o(tc.challenge,u,r,t)),f=this.finalizeSig(a,c,l,n);return await ts(f,t,r)||this.error(),f}calcSync(){let{m:t,d:n,px:r,rand:i}=this,o=e.utils.taggedHashSync,s=this.initNonce(n,o(tc.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(o(tc.nonce,s,r,t)),l=tt(o(tc.challenge,u,r,t)),f=this.finalizeSig(a,c,l,n);return ta(f,t,r)||this.error(),f}}async function tr(t,e,n){return new tn(t,e,n).calc()}function ti(t,e,n){let r=t instanceof te,i=r?t:te.fromHex(t);return r&&i.assertValidity(),{...i,m:U(e),P:G(n)}}function to(t,e,n,r){let i=E.BASE.multiplyAndAddUnsafe(e,W(n),k(-r,f.n));return!!(i&&i.hasEvenY())&&i.x===t}async function ts(t,n,r){try{let{r:i,s:o,m:s,P:a}=ti(t,n,r),u=tt(await e.utils.taggedHash(tc.challenge,L(i),a.toRawX(),s));return to(i,a,o,u)}catch(t){return!1}}function ta(t,n,r){try{let{r:i,s:o,m:s,P:a}=ti(t,n,r),u=tt(e.utils.taggedHashSync(tc.challenge,L(i),a.toRawX(),s));return to(i,a,o,u)}catch(t){if(t instanceof g)throw t;return!1}}e.schnorr={Signature:te,getPublicKey:function(t){return E.fromPrivateKey(t).toRawX()},sign:tr,verify:ts,signSync:function(t,e,n){return new tn(t,e,n).calcSync()},verifySync:ta},E.BASE._setWindowSize(8);let tu={node:o,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},tc={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},tl={};e.utils={bytesToHex:C,hexToBytes:D,concatBytes:M,mod:k,invert:_,isValidPrivateKey(t){try{return W(t),!0}catch(t){return!1}},_bigintTo32Bytes:L,_normalizePrivateKey:W,hashToPrivateKey:t=>{if((t=U(t)).length<40||t.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");return L(k(P(t),f.n-a)+a)},randomBytes:(t=32)=>{if(tu.web)return tu.web.getRandomValues(new Uint8Array(t));if(tu.node){let{randomBytes:e}=tu.node;return Uint8Array.from(e(t))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(40)),precompute(t=8,e=E.BASE){let n=e===E.BASE?e:new E(e.x,e.y);return n._setWindowSize(t),n.multiply(c),n},sha256:async(...t)=>{if(tu.web)return new Uint8Array(await tu.web.subtle.digest("SHA-256",M(...t)));if(tu.node){let{createHash:e}=tu.node,n=e("sha256");return t.forEach(t=>n.update(t)),Uint8Array.from(n.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(tu.web){let n=await tu.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=M(...e);return new Uint8Array(await tu.web.subtle.sign("HMAC",n,r))}if(tu.node){let{createHmac:n}=tu.node,r=n("sha256",t);return e.forEach(t=>r.update(t)),Uint8Array.from(r.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...n)=>{let r=tl[t];if(void 0===r){let n=await e.utils.sha256(Uint8Array.from(t,t=>t.charCodeAt(0)));r=M(n,n),tl[t]=r}return e.utils.sha256(r,...n)},taggedHashSync:(t,...e)=>{if("function"!=typeof r)throw new g("sha256Sync is undefined, you need to set it");let n=tl[t];if(void 0===n){let e=r(Uint8Array.from(t,t=>t.charCodeAt(0)));n=M(e,e),tl[t]=n}return r(n,...e)},_JacobianPoint:m},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get:()=>r,set(t){r||(r=t)}},hmacSha256Sync:{configurable:!1,get:()=>i,set(t){i||(i=t)}}})},7130:function(t,e,n){"use strict";n.d(e,{X:function(){return o}});var r=n(7305),i=n(4995);class o{constructor(t=r.f3.slice(),e=i.Rf("location",{returnEmptyObject:!0})?.origin,n="",o="/manifest.json",s,a=r._G){this.appDomain=e,this.scopes=t,this.redirectPath=n,this.manifestPath=o,this.coreNode=s,this.authenticatorURL=a}redirectURI(){return`${this.appDomain}${this.redirectPath}`}manifestURI(){return`${this.appDomain}${this.manifestPath}`}}},7305:function(t,e,n){"use strict";n.d(e,{_G:function(){return r},aL:function(){return s},f3:function(){return o},lB:function(){return i}});let r="https://browser.blockstack.org/auth",i={"@type":"Person","@context":"http://schema.org"},o=["store_write"],s="blockstack-session"},4988:function(t,e,n){"use strict";n.d(e,{V:function(){return M}});var r=n(7130),i=n(822);let o="1.0.0";class s{constructor(t){this.version=o,this.userData=t.userData,this.transitKey=t.transitKey,this.etags=t.etags?t.etags:{}}static fromJSON(t){if(t.version!==o)throw new i.M4(`JSON data version ${t.version} not supported by SessionData`);return new s({coreNode:t.coreNode,userData:t.userData,transitKey:t.transitKey,etags:t.etags})}toString(){return JSON.stringify(this)}}var a=n(7305);class u{constructor(t){if(t){let e=new s(t);this.setSessionData(e)}}getSessionData(){throw Error("Abstract class")}setSessionData(t){throw Error("Abstract class")}deleteSessionData(){throw Error("Abstract class")}}class c extends u{constructor(t){super(t),this.sessionData||this.setSessionData(new s({}))}getSessionData(){if(!this.sessionData)throw new i.Fe("No session data was found.");return this.sessionData}setSessionData(t){return this.sessionData=t,!0}deleteSessionData(){return this.setSessionData(new s({})),!0}}class l extends u{constructor(t){if(super(t),t&&t.storeOptions&&t.storeOptions.localStorageKey&&"string"==typeof t.storeOptions.localStorageKey?this.key=t.storeOptions.localStorageKey:this.key=a.aL,!localStorage.getItem(this.key)){let t=new s({});this.setSessionData(t)}}getSessionData(){let t=localStorage.getItem(this.key);if(!t)throw new i.Fe("No session data was found in localStorage");let e=JSON.parse(t);return s.fromJSON(e)}setSessionData(t){return localStorage.setItem(this.key,t.toString()),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData(new s({})),!0}}var f=n(7299),h=n(9105);function d(t){if(t&&"btc-addr"===function(t){let e=t.split(":");if(3!==e.length)throw new i.kn("Decentralized IDs must have 3 parts");if("did"!==e[0].toLowerCase())throw new i.kn('Decentralized IDs must start with "did"');return e[1].toLowerCase()}(t))return t.split(":")[2]}async function p(t){return(await Promise.all([function(t){let e=(0,f.decodeToken)(t).payload;if("string"==typeof e)throw Error("Unexpected token payload type of string");if(!e.exp)return!0;{if("number"!=typeof e.exp)return!1;let t=new Date(1e3*e.exp);return!(new Date().getTime()>t.getTime())}}(t),function(t){let e=(0,f.decodeToken)(t).payload;if("string"==typeof e)throw Error("Unexpected token payload type of string");if(!e.iat)return!0;{if("number"!=typeof e.iat)return!1;let t=new Date(1e3*e.iat);return!(new Date().getTime()<t.getTime())}}(t),function(t){let e=(0,f.decodeToken)(t).payload;if("string"==typeof e)throw Error("Unexpected token payload type of string");let n=e.public_keys;if(1===n.length){let e=n[0];try{return new f.TokenVerifier("ES256k",e).verify(t)}catch(t){return!1}}else throw Error("Multiple public keys are not supported")}(t),function(t){let e=(0,f.decodeToken)(t).payload;if("string"==typeof e)throw Error("Unexpected token payload type of string");let n=e.public_keys,r=d(e.iss);if(1===n.length){if((0,h.xc)(n[0])===r)return!0}else throw Error("Multiple public keys are not supported");return!1}(t)])).every(t=>t)}var y=n(4995),g=n(3382);async function w(t,e){let n=JSON.parse((0,y.Md)((0,y.nr)(e))),r=await (0,g.ld)(t,n);if("string"==typeof r)return r;throw Error("Unable to correctly decrypt private key")}var m=n(1814),b=n(6782),S=n(6506),E=n(909),v=n(4906),A=n(2742);let x="_blockstackDidCheckEchoReply";class M{constructor(t){let e=!0;if("undefined"==typeof window&&"undefined"==typeof self&&(e=!1),t&&t.appConfig)this.appConfig=t.appConfig;else if(e)this.appConfig=new r.X;else throw new i.v0("You need to specify options.appConfig");t&&t.sessionStore?this.store=t.sessionStore:e?t?this.store=new l(t.sessionOptions):this.store=new l:t?this.store=new c(t.sessionOptions):this.store=new c}makeAuthRequestToken(t,e,n,r,o,s=(0,y.cG)().getTime(),u={}){let c=this.appConfig;if(!c)throw new i.M4("Missing AppConfig");return t=t||this.generateAndStoreTransitKey(),e=e||c.redirectURI(),n=n||c.manifestURI(),r=r||c.scopes,o=o||c.appDomain,function(t,e,n,r=a.f3.slice(),i,o=(0,y.nD)().getTime(),s={}){let u=t=>{let e=(0,y.Rf)("location",{throwIfUnavailable:!0,usageDesc:`makeAuthRequest([${t}=undefined])`});return e?.origin};e||(e=`${u("redirectURI")}/`),n||(n=`${u("manifestURI")}/manifest.json`),i||(i=u("appDomain"));let c=Object.assign({},s,{jti:(0,y.gS)(),iat:Math.floor(new Date().getTime()/1e3),exp:Math.floor(o/1e3),iss:null,public_keys:[],domain_name:i,manifest_uri:n,redirect_uri:e,version:"1.4.0",do_not_include_profile:!0,supports_hub_url:!0,scopes:r}),l=f.SECP256K1Client.derivePublicKey(t);c.public_keys=[l];let d=(0,h.xc)(l);return c.iss=`did:btc-addr:${d}`,new f.TokenSigner("ES256k",t).sign(c)}(t,e,n,r,o,s,u)}generateAndStoreTransitKey(){let t=this.store.getSessionData(),e=(0,h.Qh)();return t.transitKey=e,this.store.setSessionData(t),e}getAuthResponseToken(){return new URLSearchParams(y.Rf("location",{throwIfUnavailable:!0,usageDesc:"getAuthResponseToken"})?.search).get("authResponse")??""}isSignInPending(){try{if(function(){var t;let e;if("undefined"!=typeof self)e=self;else{if("undefined"==typeof window)return!1;e=window}if(!e.location||!e.localStorage)return!1;let n=e[x];if("boolean"==typeof n)return n;let r=(t=e.location.search)?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce((t,e)=>{let[n,r]=e.split("=");return t[n]=r?decodeURIComponent(r.replace(/\+/g," ")):"",t},{}):{},i=r.echoReply;if(i){e[x]=!0;let t=`echo-reply-${i}`;return e.localStorage.setItem(t,"success"),e.setTimeout(()=>{let t=r.authContinuation;e.location.href=t},10),!0}return!1}())return S.Y.info("protocolEchoReply detected from isSignInPending call, the page is about to redirect."),!0}catch(t){S.Y.error(`Error checking for protocol echo reply isSignInPending: ${t}`)}return!!this.getAuthResponseToken()}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(t=this.getAuthResponseToken(),e=(0,E.eA)()){let n;let r=this.store.getSessionData();if(r.userData)throw new i.zd("Existing user session found.");let o=this.store.getSessionData().transitKey,s=this.appConfig&&this.appConfig.coreNode;s||(s=v.fg);let u=(0,f.decodeToken)(t).payload;if("string"==typeof u)throw Error("Unexpected token payload type of string");if(!await p(t))throw new i.zd("Invalid authentication response.");let c=u.private_key,l=u.core_token;if((0,y.se)(u.version,"1.1.0")){if(void 0!==o&&null!=o){if(void 0!==u.private_key&&null!==u.private_key)try{c=await w(o,u.private_key)}catch(t){if(S.Y.warn("Failed decryption of appPrivateKey, will try to use as given"),!m.P6.isValidPrivateKey(u.private_key))throw new i.zd("Failed decrypting appPrivateKey. Usually means that the transit key has changed during login.")}if(null!=l)try{l=await w(o,l)}catch(t){S.Y.info("Failed decryption of coreSessionToken, will try to use as given")}}else throw new i.zd("Authenticating with protocol > 1.1.0 requires transit key, and none found.")}let h=v.lW;(0,y.se)(u.version,"1.2.0")&&null!==u.hubUrl&&void 0!==u.hubUrl&&(h=u.hubUrl),(0,y.se)(u.version,"1.3.0")&&null!==u.associationToken&&void 0!==u.associationToken&&(n=u.associationToken);let g={profile:u.profile,email:u.email,decentralizedID:u.iss,identityAddress:d(u.iss),appPrivateKey:c,coreSessionToken:l,authResponseToken:t,hubUrl:h,appPrivateKeyFromWalletSalt:u.appPrivateKeyFromWalletSalt,coreNode:u.blockstackAPIUrl,gaiaAssociationToken:n},b=u.profile_url;if(!g.profile&&b){let t=await e(b);if(t.ok){let e=JSON.parse(await t.text());g.profile=function(t,e=null){let n;n=e?function(t,e){let n=(0,f.decodeToken)(t),r=n.payload;if("string"==typeof r)throw Error("Unexpected token payload type of string");if(r.hasOwnProperty("subject")&&r.subject){if(!r.subject.hasOwnProperty("publicKey"))throw Error("Token doesn't have a subject public key")}else throw Error("Token doesn't have a subject");if(r.hasOwnProperty("issuer")&&r.issuer){if(!r.issuer.hasOwnProperty("publicKey"))throw Error("Token doesn't have an issuer public key")}else throw Error("Token doesn't have an issuer");if(!r.hasOwnProperty("claim"))throw Error("Token doesn't have a claim");let i=r.issuer.publicKey,o=(0,A.EJ)(i);if(e===i);else if(e===o);else throw Error("Token issuer public key does not match the verifying value");let s=new f.TokenVerifier(n.header.alg,i);if(!s)throw Error("Invalid token verifier");if(!s.verify(t))throw Error("Token verification failed");return n}(t,e):(0,f.decodeToken)(t);let r={};if(n.hasOwnProperty("payload")){let t=n.payload;if("string"==typeof t)throw Error("Unexpected token payload type of string");t.hasOwnProperty("claim")&&(r=t.claim)}return r}(e[0].token)}else g.profile=Object.assign({},a.lB)}else g.profile=u.profile;return r.userData=g,this.store.setSessionData(r),g}loadUserData(){let t=this.store.getSessionData().userData;if(!t)throw new i.M4("No user data found. Did the user sign in?");return t}encryptContent(t,e){let n=Object.assign({},e);return n.privateKey||(n.privateKey=this.loadUserData().appPrivateKey),(0,b.q)(t,n)}decryptContent(t,e){let n=Object.assign({},e);return n.privateKey||(n.privateKey=this.loadUserData().appPrivateKey),(0,b.c)(t,n)}signUserOut(t){this.store.deleteSessionData(),t&&"undefined"!=typeof location&&location.href&&(location.href=t)}}M.prototype.makeAuthRequest=M.prototype.makeAuthRequestToken},2834:function(t,e,n){"use strict";function r(t,e){return(t[e+0]<<8|t[e+1])>>>0}function i(t,e,n=0){return t[n+0]=e>>>8,t[n+1]=e>>>0,t}function o(t,e){return t[e]}function s(t,e,n=0){return t[n]=e,t}function a(t,e){return 16777216*t[e]+65536*t[e+1]+256*t[e+2]+t[e+3]}function u(t,e,n=0){return t[n+3]=e,e>>>=8,t[n+2]=e,e>>>=8,t[n+1]=e,e>>>=8,t[n]=e,t}n.d(e,{Ag:function(){return a},Cg:function(){return s},Q$:function(){return o},T4:function(){return u},cQ:function(){return i},n8:function(){return r}})},4906:function(t,e,n){"use strict";n.d(e,{IE:function(){return i},fg:function(){return r},it:function(){return o},lW:function(){return s},sQ:function(){return a}});let r="https://api.mainnet.hiro.so",i="https://api.testnet.hiro.so",o="http://localhost:3999",s="https://hub.blockstack.org",a=33},822:function(t,e,n){"use strict";n.d(e,{AI:function(){return h},AY:function(){return d},Fe:function(){return l},Ie:function(){return w},JU:function(){return p},M4:function(){return c},Ru:function(){return y},kn:function(){return s},p8:function(){return g},ur:function(){return m},v0:function(){return o},vP:function(){return u},zd:function(){return a}});let r={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(r);class i extends Error{constructor(t){super();let e=t.message,n=`Error Code: ${t.code}`,r=this.stack;if(r)n+=`Stack Trace:
${r}`;else try{throw Error()}catch(t){r=t.stack}e+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${n}`,this.message=e,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class o extends i{constructor(t,e=""){super({code:r.MISSING_PARAMETER,message:e,parameter:t}),this.name="MissingParametersError"}}class s extends i{constructor(t=""){super({code:r.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}}class a extends i{constructor(t){let e=`Failed to login: ${t}`;super({code:r.LOGIN_FAILED_ERROR,message:e}),this.message=e,this.name="LoginFailedError"}}class u extends i{constructor(t="Unable to decrypt cipher object."){super({code:r.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}}class c extends i{constructor(t){super({code:r.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}}class l extends i{constructor(t){super({code:r.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}}class f extends i{constructor(t,e){super(t),e&&(this.hubError={statusCode:e.status,statusText:e.statusText},"string"==typeof e.body?this.hubError.message=e.body:"object"==typeof e.body&&Object.assign(this.hubError,e.body))}}class h extends f{constructor(t,e){super({message:t,code:r.DOES_NOT_EXIST},e),this.name="DoesNotExist"}}class d extends f{constructor(t,e){super({message:t,code:r.CONFLICT_ERROR},e),this.name="ConflictError"}}class p extends f{constructor(t,e){super({message:t,code:r.NOT_ENOUGH_PROOF_ERROR},e),this.name="NotEnoughProofError"}}class y extends f{constructor(t,e){super({message:t,code:r.BAD_PATH_ERROR},e),this.name="BadPathError"}}class g extends f{constructor(t,e){super({message:t,code:r.VALIDATION_ERROR},e),this.name="ValidationError"}}class w extends f{constructor(t,e,n){super({message:t,code:r.PAYLOAD_TOO_LARGE_ERROR},e),this.name="PayloadTooLargeError",this.maxUploadByteSize=n}}class m extends f{constructor(t,e){super({message:t,code:r.PRECONDITION_FAILED_ERROR},e),this.name="PreconditionFailedError"}}},909:function(t,e,n){"use strict";n.d(e,{eA:function(){return o}});let r={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function i(t,e){let n={};return Object.assign(n,r,e),await fetch(t,n)}function o(...t){let e,n;let{fetchLib:r,middlewares:s}=(e=i,n=[],t.length>0&&"function"==typeof t[0]&&(e=t.shift()),t.length>0&&(n=t),{fetchLib:e,middlewares:n});return async(t,e)=>{let n={url:t,init:e??{}};for(let t of s)"function"==typeof t.pre&&(n=await Promise.resolve(t.pre({fetch:r,...n}))??n);let i=await r(n.url,n.init);for(let t of s)"function"==typeof t.post&&(i=await Promise.resolve(t.post({fetch:r,url:n.url,init:n.init,response:i?.clone()??i}))??i);return i}}},9996:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(4995);function i(t){let e="string"==typeof t?(0,r.nr)(t):t;if(32!=e.length&&33!=e.length)throw Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${e.length}`);if(33==e.length&&1!==e[32])throw Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return e}},6506:function(t,e,n){"use strict";n.d(e,{Y:function(){return s}});let r=["debug","info","warn","error","none"],i={},o={};for(let t=0;t<r.length;t++){let e=r[t];i[e]=t,o[t]=e}class s{static error(t){this.shouldLog("error")&&console.error(this.logMessage("error",t))}static warn(t){this.shouldLog("warn")&&console.warn(this.logMessage("warn",t))}static info(t){this.shouldLog("info")&&console.log(this.logMessage("info",t))}static debug(t){this.shouldLog("debug")&&console.log(this.logMessage("debug",t))}static logMessage(t,e){return`[${t.toUpperCase()}] ${e}`}static shouldLog(t){return i.debug<=i[t]}}},4995:function(t,e,n){"use strict";n.d(e,{$O:function(){return j},$g:function(){return h},$j:function(){return m},HN:function(){return f},I4:function(){return y},Md:function(){return x},QD:function(){return M},Qs:function(){return I},Rf:function(){return c},T7:function(){return $},WR:function(){return g},WW:function(){return L},Xt:function(){return s},cG:function(){return o},ci:function(){return E},cn:function(){return b},eV:function(){return N},gS:function(){return u},iY:function(){return A},jk:function(){return w},nD:function(){return i},nr:function(){return v},sO:function(){return l},se:function(){return a},y_:function(){return p}});var r=n(6506);function i(){return new Date(new Date().setMonth(new Date().getMonth()+1))}function o(){return new Date(new Date().setHours(new Date().getHours()+1))}function s(t){return Number.isFinite(t)?Math.floor(1048576*t):0}function a(t,e){(void 0===t||""===t)&&(t="0.0.0"),(void 0===e||""===t)&&(e="0.0.0");let n=t.split(".").map(t=>parseInt(t,10)),r=e.split(".").map(t=>parseInt(t,10));for(let i=0;i<e.length;i++)if(i>=t.length&&r.push(0),n[i]<r[i])return!1;return!0}function u(){let t=new Date().getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})}function c(t,{throwIfUnavailable:e,usageDesc:i,returnEmptyObject:o}={}){let s;try{if(s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}()){let e=s[t];if(e)return e}}catch(e){r.Y.error(`Error getting object '${t}' from global scope '${s}': ${e}`)}if(e){var a,u;let e=(a=s,u=t.toString(),i?`Use of '${i}' requires \`${u}\` which is unavailable on the '${a}' object within the currently executing environment.`:`\`${u}\` is unavailable on the '${a}' object within the currently executing environment.`);throw r.Y.error(e),Error(e)}if(o)return{}}function l(t,e){return w(f(t),e)}function f(t){if("bigint"==typeof t)return t;if("string"==typeof t)return BigInt(t);if("number"==typeof t){if(!Number.isInteger(t))throw RangeError("Invalid value. Values of type 'number' must be an integer.");if(t>Number.MAX_SAFE_INTEGER)throw RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(t)}if(j(t,Uint8Array))return BigInt(`0x${E(t)}`);throw TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function h(t){return/^0x/i.test(t)?t:`0x${t}`}function d(t){return/^0x/i.test(t)?t.slice(2):t}function p(t){if("string"!=typeof t)throw TypeError(`hexToBigInt: expected string, got ${typeof t}`);return BigInt(`0x${t}`)}function y(t,e=8){return("bigint"==typeof t?t:f(t)).toString(16).padStart(2*e,"0")}function g(t){return parseInt(t,16)}function w(t,e=16){return v(y(t,e))}function m(t,e){if(t<-(BigInt(1)<<e-BigInt(1))||(BigInt(1)<<e-BigInt(1))-BigInt(1)<t)throw`Unable to represent integer in width: ${e}`;return t>=BigInt(0)?BigInt(t):t+(BigInt(1)<<e)}function b(t){var e,n,r;return e=BigInt(`0x${E(t)}`),(r=(n=BigInt(8*t.byteLength))-BigInt(1),e&BigInt(1)<<r)?e-(BigInt(1)<<n):e}let S=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function E(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected");let e="";for(let n of t)e+=S[n];return e}function v(t){if("string"!=typeof t)throw TypeError(`hexToBytes: expected string, got ${typeof t}`);let e=new Uint8Array((t=(t=d(t)).length%2?`0${t}`:t).length/2);for(let n=0;n<e.length;n++){let r=2*n,i=Number.parseInt(t.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");e[n]=i}return e}function A(t){return new TextEncoder().encode(t)}function x(t){return new TextDecoder().decode(t)}function M(t){let e=[];for(let n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return new Uint8Array(e)}function I(t){return String.fromCharCode.apply(null,t)}function C(t){return!Number.isInteger(t)||t<0||t>255}function T(t){if(t.some(C))throw Error("Some values are invalid bytes.");return new Uint8Array(t)}function N(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e}function L(t){return N(...t.map(t=>"number"==typeof t?T([t]):t instanceof Array?T(t):t))}function j(t,e){return t instanceof e||t?.constructor?.name?.toLowerCase()===e.name}function $(t){return 64===(t=d(t)).length&&/^[0-9a-fA-F]+$/.test(t)}},7410:function(t,e,n){"use strict";let r,i;n.d(e,{b:function(){return Z},g:function(){return m},h:function(){return d},p:function(){return tl},r:function(){return tt}});let o=!1,s=!1,a=(t,e="")=>()=>{},u=(t,e)=>()=>{},c={},l=t=>null!=t,f=t=>"object"==(t=typeof t)||"function"===t;function h(t){var e,n,r;return null!==(r=null===(n=null===(e=t.head)||void 0===e?void 0:e.querySelector('meta[name="csp-nonce"]'))||void 0===n?void 0:n.getAttribute("content"))&&void 0!==r?r:void 0}let d=(t,e,...n)=>{let r=null,i=!1,o=!1,s=[],a=e=>{for(let n=0;n<e.length;n++)Array.isArray(r=e[n])?a(r):null!=r&&"boolean"!=typeof r&&((i="function"!=typeof t&&!f(r))&&(r=String(r)),i&&o?s[s.length-1].$text$+=r:s.push(i?p(null,r):r),o=i)};if(a(n),e){let t=e.className||e.class;t&&(e.class="object"!=typeof t?t:Object.keys(t).filter(e=>t[e]).join(" "))}let u=p(t,null);return u.$attrs$=e,s.length>0&&(u.$children$=s),u},p=(t,e)=>{let n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n},y={},g=t=>t&&t.$tag$===y,w=(t,e)=>null!=t&&!f(t)&&4&e?"false"!==t&&(""===t||!!t):t,m=t=>J(t).$hostElement$,b=(t,e,n)=>{let r=tc.ce(e,n);return t.dispatchEvent(r),r},S=new WeakMap,E=(t,e,n)=>{let r=ts.get(t);tf&&n?"string"==typeof(r=r||new CSSStyleSheet)?r=e:r.replaceSync(e):r=e,ts.set(t,r)},v=(t,e,n,r)=>{var i;let o=x(e),s=ts.get(o);if(t=11===t.nodeType?t:tu,s){if("string"==typeof s){let e;t=t.head||t;let n=S.get(t);if(n||S.set(t,n=new Set),!n.has(o)){{(e=tu.createElement("style")).innerHTML=s;let n=null!==(i=tc.$nonce$)&&void 0!==i?i:h(tu);null!=n&&e.setAttribute("nonce",n),t.insertBefore(e,t.querySelector("link"))}n&&n.add(o)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s])}return o},A=t=>{let e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=a("attachStyles",e.$tagName$),o=v(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&(n["s-sc"]=o,n.classList.add(o+"-h")),i()},x=(t,e)=>"sc-"+t.$tagName$,M=(t,e,n,r,i,o)=>{if(n!==r){let s=tn(t,e),a=e.toLowerCase();if("class"===e){let e=t.classList,i=C(n),o=C(r);e.remove(...i.filter(t=>t&&!o.includes(t))),e.add(...o.filter(t=>t&&!i.includes(t)))}else if(s||"o"!==e[0]||"n"!==e[1]){let a=f(r);if((s||a&&null!==r)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{let i=null==r?"":r;"list"===e?s=!1:(null==n||t[e]!=i)&&(t[e]=i)}}catch(t){}null==r||!1===r?(!1!==r||""===t.getAttribute(e))&&t.removeAttribute(e):(!s||4&o||i)&&!a&&(r=!0===r?"":r,t.setAttribute(e,r))}else e="-"===e[2]?e.slice(3):tn(ta,a)?a.slice(2):a[2]+e.slice(3),n&&tc.rel(t,e,n,!1),r&&tc.ael(t,e,r,!1)}},I=/\s/,C=t=>t?t.split(I):[],T=(t,e,n,r)=>{let i=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||c,s=e.$attrs$||c;for(r in o)r in s||M(i,r,o[r],void 0,n,e.$flags$);for(r in s)M(i,r,o[r],s[r],n,e.$flags$)},N=(t,e,n,i)=>{let s,a;let u=e.$children$[n],c=0;if(null!==u.$text$)s=u.$elm$=tu.createTextNode(u.$text$);else{if(o||(o="svg"===u.$tag$),s=u.$elm$=tu.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",u.$tag$),o&&"foreignObject"===u.$tag$&&(o=!1),T(null,u,o),l(r)&&s["s-si"]!==r&&s.classList.add(s["s-si"]=r),u.$children$)for(c=0;c<u.$children$.length;++c)(a=N(t,u,c))&&s.appendChild(a);"svg"===u.$tag$?o=!1:"foreignObject"===s.tagName&&(o=!0)}return s},L=(t,e,n,r,o,s)=>{let a,u=t;for(u.shadowRoot&&u.tagName===i&&(u=u.shadowRoot);o<=s;++o)r[o]&&(a=N(null,n,o))&&(r[o].$elm$=a,u.insertBefore(a,e))},j=(t,e,n,r,i)=>{for(;e<=n;++e)(r=t[e])&&(0,r.$elm$).remove()},$=(t,e,n,r)=>{let i,o=0,s=0,a=e.length-1,u=e[0],c=e[a],l=r.length-1,f=r[0],h=r[l];for(;o<=a&&s<=l;)null==u?u=e[++o]:null==c?c=e[--a]:null==f?f=r[++s]:null==h?h=r[--l]:D(u,f)?(P(u,f),u=e[++o],f=r[++s]):D(c,h)?(P(c,h),c=e[--a],h=r[--l]):D(u,h)?(P(u,h),t.insertBefore(u.$elm$,c.$elm$.nextSibling),u=e[++o],h=r[--l]):D(c,f)?(P(c,f),t.insertBefore(c.$elm$,u.$elm$),c=e[--a],f=r[++s]):(i=N(e&&e[s],n,s),f=r[++s],i&&u.$elm$.parentNode.insertBefore(i,u.$elm$));o>a?L(t,null==r[l+1]?null:r[l+1].$elm$,n,r,s,l):s>l&&j(e,o,a)},D=(t,e)=>t.$tag$===e.$tag$,P=(t,e)=>{let n=e.$elm$=t.$elm$,r=t.$children$,i=e.$children$,s=e.$tag$,a=e.$text$;null===a?(T(t,e,o="svg"===s||"foreignObject"!==s&&o),null!==r&&null!==i?$(n,r,e,i):null!==i?(null!==t.$text$&&(n.textContent=""),L(n,null,e,i,0,i.length-1)):null!==r&&j(r,0,r.length-1),o&&"svg"===s&&(o=!1)):t.$text$!==a&&(n.data=a)},U=(t,e)=>{let n=t.$hostElement$,o=t.$vnode$||p(null,null),s=g(e)?e:d(null,null,e);i=n.tagName,s.$tag$=null,s.$flags$|=4,t.$vnode$=s,s.$elm$=o.$elm$=n.shadowRoot||n,r=n["s-sc"],P(o,s)},O=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(e=>t.$onRenderResolve$=e))},k=(t,e)=>{if(t.$flags$|=16,4&t.$flags$){t.$flags$|=512;return}return O(t,t.$ancestorComponent$),tw(()=>B(t,e))},B=(t,e)=>{let n;let r=a("scheduleUpdate",t.$cmpMeta$.$tagName$),i=t.$lazyInstance$;return r(),F(n,()=>_(t,i,e))},_=async(t,e,n)=>{let r=t.$hostElement$,i=a("update",t.$cmpMeta$.$tagName$),o=r["s-rc"];n&&A(t);let s=a("render",t.$cmpMeta$.$tagName$);H(t,e),o&&(o.map(t=>t()),r["s-rc"]=void 0),s(),i();{let e=r["s-p"],n=()=>R(t);0===e.length?n():(Promise.all(e).then(n),t.$flags$|=4,e.length=0)}},H=(t,e,n)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,U(t,e)}catch(e){tr(e,t.$hostElement$)}return null},R=t=>{let e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=a("postUpdate",e),i=t.$ancestorComponent$;64&t.$flags$?r():(t.$flags$|=64,K(n),r(),t.$onReadyResolve$(n),i||z()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&tg(()=>k(t,!1)),t.$flags$&=-517},z=t=>{K(tu.documentElement),tg(()=>b(ta,"appload",{detail:{namespace:"connect-ui"}}))},F=(t,e)=>t&&t.then?t.then(e):e(),K=t=>t.classList.add("hydrated"),W=(t,e)=>J(t).$instanceValues$.get(e),G=(t,e,n,r)=>{let i=J(t),o=i.$instanceValues$.get(e),s=i.$flags$,a=i.$lazyInstance$;n=w(n,r.$members$[e][0]);let u=Number.isNaN(o)&&Number.isNaN(n),c=n!==o&&!u;(!(8&s)||void 0===o)&&c&&(i.$instanceValues$.set(e,n),a&&(18&s)==2&&k(i,!1))},V=(t,e,n)=>{if(e.$members$){let r=Object.entries(e.$members$),i=t.prototype;if(r.map(([t,[r]])=>{(31&r||2&n&&32&r)&&Object.defineProperty(i,t,{get(){return W(this,t)},set(n){G(this,t,n,e)},configurable:!0,enumerable:!0})}),1&n){let e=new Map;i.attributeChangedCallback=function(t,n,r){tc.jmp(()=>{let n=e.get(t);if(this.hasOwnProperty(n))r=this[n],delete this[n];else if(i.hasOwnProperty(n)&&"number"==typeof this[n]&&this[n]==r)return;this[n]=(null!==r||"boolean"!=typeof this[n])&&r})},t.observedAttributes=r.filter(([t,e])=>15&e[0]).map(([t,n])=>{let r=n[1]||t;return e.set(r,t),r})}}return t},Y=async(t,e,n,r,i)=>{if((32&e.$flags$)==0){{if(e.$flags$|=32,(i=to(n)).then){let t=u();i=await i,t()}i.isProxied||(V(i,n,2),i.isProxied=!0);let t=a("createInstance",n.$tagName$);e.$flags$|=8;try{new i(e)}catch(t){tr(t)}e.$flags$&=-9,t()}if(i.style){let t=i.style,e=x(n);if(!ts.has(e)){let r=a("registerStyles",n.$tagName$);E(e,t,!!(1&n.$flags$)),r()}}}let o=e.$ancestorComponent$,s=()=>k(e,!0);o&&o["s-rc"]?o["s-rc"].push(s):s()},Q=t=>{if((1&tc.$flags$)==0){let e=J(t),n=e.$cmpMeta$,r=a("connectedCallback",n.$tagName$);if(!(1&e.$flags$)){e.$flags$|=1;{let n=t;for(;n=n.parentNode||n.host;)if(n["s-p"]){O(e,e.$ancestorComponent$=n);break}}n.$members$&&Object.entries(n.$members$).map(([e,[n]])=>{if(31&n&&t.hasOwnProperty(e)){let n=t[e];delete t[e],t[e]=n}}),Y(t,e,n)}r()}},q=t=>{(1&tc.$flags$)==0&&J(t)},Z=(t,e={})=>{var n;let r;let i=a(),o=[],s=e.exclude||[],u=ta.customElements,c=tu.head,l=c.querySelector("meta[charset]"),f=tu.createElement("style"),d=[],p=!0;Object.assign(tc,e),tc.$resourcesUrl$=new URL(e.resourcesUrl||"./",tu.baseURI).href,t.map(t=>{t[1].map(e=>{let n={$flags$:e[0],$tagName$:e[1],$members$:e[2],$listeners$:e[3]};n.$members$=e[2];let i=n.$tagName$,a=class extends HTMLElement{constructor(t){super(t),t=this,te(t,n),1&n.$flags$&&t.attachShadow({mode:"open"})}connectedCallback(){r&&(clearTimeout(r),r=null),p?d.push(this):tc.jmp(()=>Q(this))}disconnectedCallback(){tc.jmp(()=>q(this))}componentOnReady(){return J(this).$onReadyPromise$}};n.$lazyBundleId$=t[0],s.includes(i)||u.get(i)||(o.push(i),u.define(i,V(a,n,1)))})});{f.innerHTML=o+"{visibility:hidden}.hydrated{visibility:inherit}",f.setAttribute("data-styles","");let t=null!==(n=tc.$nonce$)&&void 0!==n?n:h(tu);null!=t&&f.setAttribute("nonce",t),c.insertBefore(f,l?l.nextSibling:c.firstChild)}p=!1,d.length?d.map(t=>t.connectedCallback()):tc.jmp(()=>r=setTimeout(z,30)),i()},X=new WeakMap,J=t=>X.get(t),tt=(t,e)=>X.set(e.$lazyInstance$=t,e),te=(t,e)=>{let n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return n.$onReadyPromise$=new Promise(t=>n.$onReadyResolve$=t),t["s-p"]=[],t["s-rc"]=[],X.set(t,n)},tn=(t,e)=>e in t,tr=(t,e)=>(0,console.error)(t,e),ti=new Map,to=(t,e,r)=>{let i=t.$tagName$.replace(/-/g,"_"),o=t.$lazyBundleId$,s=ti.get(o);return s?s[i]:r&&BUILD.hotModuleReplacement||"connect-modal"!==o?n(7938)(`./${o}.entry.js`).then(t=>(ti.set(o,t),t[i]),tr):n.e(530).then(n.bind(n,4530)).then(t=>(ti.set(o,t),t[i]),tr)},ts=new Map,ta="undefined"!=typeof window?window:{},tu=ta.document||{head:{}},tc={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},tl=t=>Promise.resolve(t),tf=(()=>{try{return new CSSStyleSheet,"function"==typeof new CSSStyleSheet().replaceSync}catch(t){}return!1})(),th=[],td=[],tp=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(t){tr(t)}t.length=0},ty=()=>{tp(th),tp(td),(s=th.length>0)&&tc.raf(ty)},tg=t=>tl().then(t),tw=t=>{td.push(t),s||(s=!0,4&tc.$flags$?tg(ty):tc.raf(ty))}},9166:function(t,e,n){"use strict";n.d(e,{a:function(){return i},b:function(){return o},c:function(){return a},s:function(){return u}});let r=()=>"undefined"!=typeof window&&window.webbtc_stx_providers?window.webbtc_stx_providers:[],i=(t=[])=>{if("undefined"==typeof window)return[];let e=r(),n=t.filter(t=>!e.find(e=>e.id===t.id)&&!!o(t.id));return e.concat(n)},o=t=>null==t?void 0:t.split(".").reduce((t,e)=>null==t?void 0:t[e],window),s="STX_PROVIDER",a=()=>"undefined"==typeof window?null:window.localStorage.getItem(s),u=t=>{"undefined"!=typeof window&&window.localStorage.setItem(s,t)}},9027:function(t,e,n){"use strict";n.d(e,{gY:function(){return a}});var r=n(4995),i=n(6296);class o{constructor(t,e){this.createCipher=t,this.createDecipher=e}async encrypt(t,e,n,i){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw Error(`Unsupported cipher algorithm "${t}"`);let o=this.createCipher(t,e,n);return Promise.resolve(new Uint8Array((0,r.eV)(o.update(i),o.final())))}async decrypt(t,e,n,i){if("aes-128-cbc"!==t&&"aes-256-cbc"!==t)throw Error(`Unsupported cipher algorithm "${t}"`);let o=this.createDecipher(t,e,n);return Promise.resolve(new Uint8Array((0,r.eV)(o.update(i),o.final())))}}class s{constructor(t){this.subtleCrypto=t}async encrypt(t,e,n,r){let i,o;if("aes-128-cbc"===t)i="AES-CBC",o=128;else if("aes-256-cbc"===t)i="AES-CBC",o=256;else throw Error(`Unsupported cipher algorithm "${t}"`);let s=await this.subtleCrypto.importKey("raw",e,{name:i,length:o},!1,["encrypt"]);return new Uint8Array(await this.subtleCrypto.encrypt({name:i,iv:n},s,r))}async decrypt(t,e,n,r){let i,o;if("aes-128-cbc"===t)i="AES-CBC",o=128;else if("aes-256-cbc"===t)i="AES-CBC",o=256;else throw Error(`Unsupported cipher algorithm "${t}"`);let s=await this.subtleCrypto.importKey("raw",e,{name:i,length:o},!1,["decrypt"]);return new Uint8Array(await this.subtleCrypto.decrypt({name:i,iv:n},s,r))}}async function a(){let t=await (0,i.ku)();return"subtleCrypto"===t.name?new s(t.lib):new o(t.lib.createCipheriv,t.lib.createDecipheriv)}},6296:function(t,e,n){"use strict";async function r(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:n(8859),name:"nodeCrypto"}}catch(t){throw Error('Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.')}}n.d(e,{ku:function(){return r}})},3382:function(t,e,n){"use strict";n.d(e,{P8:function(){return S},SA:function(){return g},ld:function(){return b},pW:function(){return m}});var r,i,o=n(3321),s=n(9272),a=n(1814),u=n(4995),c=n(822),l=n(9196),f=n(9027),h=n(9105),d=n(4963);async function p(t,e,n){let r=await (0,f.gY)();return await r.encrypt("aes-256-cbc",e,t,n)}async function y(t,e,n){let r=await (0,f.gY)();return await r.decrypt("aes-256-cbc",e,t,n)}function g(t,e){return(0,o.b)(s.J,t,e)}function w(t){let e=(0,d.jf)(t);return{encryptionKey:e.slice(0,32),hmacKey:e.slice(32)}}async function m(t,e,n,r){let o;let s=function(t){let e={result:!1,reason_data:"Invalid public key format",reason:i.InvalidFormat},n={result:!1,reason_data:"Public key is not a point",reason:i.IsNotPoint};if(66!==t.length&&130!==t.length)return e;let r=t.slice(0,2);if(130===t.length&&"04"!==r||66===t.length&&"02"!==r&&"03"!==r||!(null!==t.match(/^[0-9a-f]+$/i)))return e;try{return a.E9.fromHex(t).assertValidity(),{result:!0,reason_data:null,reason:null}}catch(t){return n}}(t);if(!s.result)throw s;let c=a.P6.randomPrivateKey(),f=(0,a.$3)(c,!0),h=(0,a.ZV)(c,t,!0),d=w(h=h.slice(1)),y=a.P6.randomBytes(16),m=await p(y,d.encryptionKey,e),b=(0,u.eV)(y,f,m),S=g(d.hmacKey,b);if(r&&"hex"!==r){if("base64"===r)o=(0,l.fromByteArray)(m);else throw Error(`Unexpected cipherTextEncoding "${r}"`)}else o=(0,u.ci)(m);let E={iv:(0,u.ci)(y),ephemeralPK:(0,u.ci)(f),cipherText:o,mac:(0,u.ci)(S),wasString:n};return r&&"hex"!==r&&(E.cipherTextEncoding=r),E}async function b(t,e){let n;if(!e.ephemeralPK)throw new c.vP("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");let r=e.ephemeralPK,i=(0,a.ZV)(t,r,!0),o=w(i=i.slice(1)),s=(0,u.nr)(e.iv);if(e.cipherTextEncoding&&"hex"!==e.cipherTextEncoding){if("base64"===e.cipherTextEncoding)n=(0,l.toByteArray)(e.cipherText);else throw Error(`Unexpected cipherTextEncoding "${e.cipherText}"`)}else n=(0,u.nr)(e.cipherText);let f=(0,u.eV)(s,(0,u.nr)(r),n),h=g(o.hmacKey,f);if(!function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n}((0,u.nr)(e.mac),h))throw new c.vP("Decryption failed: failure in MAC check");let d=await y(s,o.encryptionKey,n);return e.wasString?(0,u.Md)(d):d}function S(t,e){let n="string"==typeof e?(0,u.iY)(e):e,r=(0,h.GU)(t),i=(0,d.Uz)(n),o=(0,a.kS)(i,t);return{signature:(0,u.ci)(o),publicKey:r}}a.P6.hmacSha256Sync=(t,...e)=>{let n=o.b.create(s.J,t);return e.forEach(t=>n.update(t)),n.digest()},(r=i||(i={})).InvalidFormat="InvalidFormat",r.IsNotPoint="IsNotPoint"},6782:function(t,e,n){"use strict";n.d(e,{c:function(){return a},q:function(){return s}});var r=n(4995),i=n(3382),o=n(9105);async function s(t,e){let n;let s=Object.assign({},e);if(!s.publicKey){if(!s.privateKey)throw Error("Either public key or private key must be supplied for encryption.");s.publicKey=(0,o.GU)(s.privateKey)}let a="boolean"==typeof s.wasString?s.wasString:"string"==typeof t,u="string"==typeof t?(0,r.iY)(t):t,c=JSON.stringify(await (0,i.pW)(s.publicKey,u,a,s.cipherTextEncoding));if(s.sign){"string"==typeof s.sign?n=s.sign:n||(n=s.privateKey);let t=(0,i.P8)(n,c);c=JSON.stringify({signature:t.signature,publicKey:t.publicKey,cipherText:c})}return c}function a(t,e){let n=Object.assign({},e);if(!n.privateKey)throw Error("Private key is required for decryption.");try{let e=JSON.parse(t);return(0,i.ld)(n.privateKey,e)}catch(t){if(t instanceof SyntaxError)throw Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }.");throw t}}},9105:function(t,e,n){"use strict";n.d(e,{GU:function(){return p},Qh:function(){return h},xc:function(){return d}});var r=n(3321),i=n(9272),o=n(1814),s=n(4995),a=n(9996),u=n(9147),c=n.n(u),l=n(9330),f=n(4963);function h(){return(0,s.ci)(o.P6.randomPrivateKey())}function d(t,e=0){var n;let r="string"==typeof t?(0,s.nr)(t):t,o=(n=(0,f.Uz)(r),(0,l.b)(n));return function(t){let e=(0,i.J)((0,i.J)(t));return c().encode((0,s.eV)(t,e).slice(0,t.length+4))}((0,s.eV)(new Uint8Array([e]),o.slice(0,20)))}function p(t){let e=(0,a.z)(t);return(0,s.ci)((0,o.$3)(e.slice(0,32),!0))}o.P6.hmacSha256Sync=(t,...e)=>{let n=r.b.create(i.J,t);return e.forEach(t=>n.update(t)),n.digest()}},4963:function(t,e,n){"use strict";n.d(e,{H_:function(){return u},Uz:function(){return c},jf:function(){return l}});var r=n(9272),i=n(8101),o=n(6296);class s{constructor(t){this.createHash=t}async digest(t,e="sha256"){try{let n=this.createHash(e).update(t).digest();return Promise.resolve(n)}catch(n){return console.log(n),console.log(`Error performing ${e} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve("sha256"===e?c(t):l(t))}}}class a{constructor(t){this.subtleCrypto=t}async digest(t,e="sha256"){let n;if("sha256"===e)n="SHA-256";else if("sha512"===e)n="SHA-512";else throw Error(`Unsupported hash algorithm ${e}`);try{let e=await this.subtleCrypto.digest(n,t);return new Uint8Array(e)}catch(n){return console.log(n),console.log(`Error performing ${e} digest with WebCrypto, falling back to JS implementation.`),Promise.resolve("sha256"===e?c(t):l(t))}}}async function u(){let t=await (0,o.ku)();return"subtleCrypto"===t.name?new a(t.lib):new s(t.lib.createHash)}function c(t){return(0,r.J)(t)}function l(t){return(0,i.o)(t)}},1846:function(t,e,n){"use strict";var r,i,o,s,a,u,c,l;function f(t){return e=>e[t]}n.d(e,{GE:function(){return i},Kn:function(){return o},TK:function(){return s},a_:function(){return r},mQ:function(){return f}}),(a=r||(r={}))[a.Mainnet=1]="Mainnet",a[a.Testnet=2147483648]="Testnet",(u=i||(i={}))[u.Mainnet=385875968]="Mainnet",u[u.Testnet=4278190080]="Testnet",r.Mainnet,(c=o||(o={}))[c.Mainnet=0]="Mainnet",c[c.Testnet=128]="Testnet",(l=s||(s={}))[l.MainnetSingleSig=22]="MainnetSingleSig",l[l.MainnetMultiSig=20]="MainnetMultiSig",l[l.TestnetSingleSig=26]="TestnetSingleSig",l[l.TestnetMultiSig=21]="TestnetMultiSig",o.Mainnet},302:function(t,e,n){"use strict";n.d(e,{eN:function(){return s},tn:function(){return l},vt:function(){return a},zD:function(){return f}});var r=n(4906),i=n(909),o=n(1846);let s={chainId:o.a_.Mainnet,transactionVersion:o.Kn.Mainnet,peerNetworkId:o.GE.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:o.TK.MainnetSingleSig,multiSig:o.TK.MainnetMultiSig},client:{baseUrl:r.fg}},a={chainId:o.a_.Testnet,transactionVersion:o.Kn.Testnet,peerNetworkId:o.GE.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:o.TK.TestnetSingleSig,multiSig:o.TK.TestnetMultiSig},client:{baseUrl:r.IE}},u={...a,addressVersion:{...a.addressVersion},magicBytes:"id",client:{baseUrl:r.it}},c={...u,addressVersion:{...u.addressVersion},client:{...u.client}};function l(t){return"string"==typeof t?function(t){switch(t){case"mainnet":return s;case"testnet":return a;case"devnet":return u;case"mocknet":return c;default:throw Error(`Unknown network name: ${t}`)}}(t):t}function f(t){return t.client.fetch?t.client:{...t.client,fetch:(0,i.eA)()}}},1445:function(t,e,n){"use strict";n.d(e,{n:function(){return s}});var r=n(4995),i=n(2834);let o=new Map;class s{constructor(t){this.consumed=0,this.source="string"==typeof t?(0,r.nr)(t):t}readBytes(t){let e=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,e}readUInt32BE(){return(0,i.Ag)(this.readBytes(4),0)}readUInt8(){return(0,i.Q$)(this.readBytes(1),0)}readUInt16BE(){return(0,i.n8)(this.readBytes(2),0)}readBigUIntLE(t){let e=this.readBytes(t).slice().reverse(),n=(0,r.ci)(e);return BigInt(`0x${n}`)}readBigUIntBE(t){let e=this.readBytes(t),n=(0,r.ci)(e);return BigInt(`0x${n}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,e){let n=this.readUInt8();if(function t(e,n){let r=o.get(e);if(void 0!==r)return r(n);let i=function(t){let e=new Set(Object.values(t).filter(t=>"number"==typeof t));return t=>e.has(t)}(e);return o.set(e,i),t(e,n)}(t,n))return n;throw e(n)}}},3118:function(t,e,n){"use strict";n.d(e,{c:function(){return s}});var r=n(302),i=n(1846),o=n(3780);function s(t,e){switch(e=(0,r.tn)(e??r.eN),t){case o.dO.P2PKH:switch(e.transactionVersion){case i.Kn.Mainnet:return i.TK.MainnetSingleSig;case i.Kn.Testnet:return i.TK.TestnetSingleSig;default:throw Error(`Unexpected transactionVersion ${e.transactionVersion} for hashMode ${t}`)}case o.dO.P2SH:case o.dO.P2SHNonSequential:case o.dO.P2WPKH:case o.dO.P2WSH:case o.dO.P2WSHNonSequential:switch(e.transactionVersion){case i.Kn.Mainnet:return i.TK.MainnetMultiSig;case i.Kn.Testnet:return i.TK.TestnetMultiSig;default:throw Error(`Unexpected transactionVersion ${e.transactionVersion} for hashMode ${t}`)}default:throw Error(`Unexpected hashMode ${t}`)}}},3643:function(t,e,n){"use strict";n.d(e,{Bq:function(){return C},C:function(){return g},Cn:function(){return m},D9:function(){return K},Dt:function(){return M},Fd:function(){return D},GP:function(){return w},H3:function(){return A},JK:function(){return _},K2:function(){return R},P_:function(){return B},Pd:function(){return P},QP:function(){return E},Rh:function(){return p},TR:function(){return d},Tm:function(){return y},VX:function(){return L},XH:function(){return W},YD:function(){return v},Zi:function(){return T},_w:function(){return x},a6:function(){return $},dd:function(){return k},fc:function(){return z},fe:function(){return I},h$:function(){return F},lW:function(){return N},m5:function(){return O},nT:function(){return H},p1:function(){return U},vY:function(){return b}});var r=n(4995),i=n(2834),o=n(3780),s=n(3610),a=n(2742),u=n(6855),c=n(7759),l=n(7708),f=n(7394),h=n(286);function d(){return{type:c.l.MessageSignature,data:(0,r.ci)(new Uint8Array(o.UE))}}function p(t){return"publicKey"in t?y(o.dO.P2PKH,t.publicKey,t.nonce,t.fee):g(o.dO.P2SH,t.numSignatures,t.publicKeys,t.nonce,t.fee)}function y(t,e,n,i){let s=(0,l.j3)(0,t,1,[(0,a.NG)(e)]).hash160,u=(0,a.EG)(e)?o.gW.Compressed:o.gW.Uncompressed;return{hashMode:t,signer:s,nonce:(0,r.HN)(n),fee:(0,r.HN)(i),keyEncoding:u,signature:d()}}function g(t,e,n,i,o){let s=n.map(a.NG),u=(0,l.j3)(0,t,e,s).hash160;return{hashMode:t,signer:u,nonce:(0,r.HN)(i),fee:(0,r.HN)(o),fields:[],signaturesRequired:e}}function w(t){return"signature"in t}function m(t){return t===o.dO.P2SH||t===o.dO.P2WSH}function b(t){return t===o.dO.P2SHNonSequential||t===o.dO.P2WSHNonSequential}function S(t){let e=(0,u.Xh)(t);return e.nonce=0,e.fee=0,w(e)?e.signature=d():e.fields=[],{...e,nonce:BigInt(0),fee:BigInt(0)}}function E(t){return(0,r.ci)(v(t))}function v(t){let e=[t.hashMode,(0,r.nr)(t.signer),(0,r.sO)(t.nonce,8),(0,r.sO)(t.fee,8),t.keyEncoding,(0,f.jL)(t.signature)];return(0,r.WW)(e)}function A(t){return(0,r.ci)(x(t))}function x(t){let e=[t.hashMode,(0,r.nr)(t.signer),(0,r.sO)(t.nonce,8),(0,r.sO)(t.fee,8)],n=(0,h.lZ)(t.fields);e.push((0,f.d6)(n));let o=new Uint8Array(2);return(0,i.cQ)(o,t.signaturesRequired,0),e.push(o),(0,r.WW)(e)}function M(t,e){let n=(0,r.ci)(e.readBytes(20)),i=BigInt(`0x${(0,r.ci)(e.readBytes(8))}`),a=BigInt(`0x${(0,r.ci)(e.readBytes(8))}`),u=e.readUInt8Enum(o.gW,t=>{throw new s.xv(`Could not parse ${t} as PubKeyEncoding`)});if(t===o.dO.P2WPKH&&u!=o.gW.Compressed)throw new s.xv("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");return{hashMode:t,signer:n,nonce:i,fee:a,keyEncoding:u,signature:(0,f.FM)(e)}}function I(t,e){let n=(0,r.ci)(e.readBytes(20)),i=BigInt("0x"+(0,r.ci)(e.readBytes(8))),u=BigInt("0x"+(0,r.ci)(e.readBytes(8))),l=(0,f.nt)(e,c.l.TransactionAuthField).values,h=!1,d=0;for(let t of l)switch(t.contents.type){case c.l.PublicKey:(0,a.EG)(t.contents.data)||(h=!0);break;case c.l.MessageSignature:if(t.pubKeyEncoding===o.gW.Uncompressed&&(h=!0),65536===(d+=1))throw new s.S6("Failed to parse multisig spending condition: too many signatures")}let p=e.readUInt16BE();if(h&&(t===o.dO.P2WSH||t===o.dO.P2WSHNonSequential))throw new s.S6("Uncompressed keys are not allowed in this hash mode");return{hashMode:t,signer:n,nonce:i,fee:u,fields:l,signaturesRequired:p}}function C(t){return(0,r.ci)(T(t))}function T(t){return w(t)?v(t):x(t)}function N(t){let e=t.readUInt8Enum(o.dO,t=>{throw new s.xv(`Could not parse ${t} as AddressHashMode`)});return e===o.dO.P2PKH||e===o.dO.P2WPKH?M(e,t):I(e,t)}function L(t,e,n,i){let o=t+(0,r.ci)(new Uint8Array([e]))+(0,r.ci)((0,r.sO)(n,8))+(0,r.ci)((0,r.sO)(i,8));if(49!==(0,r.nr)(o).byteLength)throw Error("Invalid signature hash length");return(0,u.G8)((0,r.nr)(o))}function j(t,e,n){let i=33+o.UE,s=(0,a.EG)(e.data)?o.gW.Compressed:o.gW.Uncompressed,c=t+(0,u.c1)(s.toString(16))+n,l=(0,r.nr)(c);if(l.byteLength>i)throw Error("Invalid signature hash length");return(0,u.G8)(l)}function $(t,e,n,r,i){let o=L(t,e,n,r),s=(0,a.fJ)(i,o),u=j(o,(0,a.NG)((0,a.li)(i)),s);return{nextSig:s,nextSigHash:u}}function D(t,e,n,r,i,o){let s=L(t,e,n,r),u=(0,a.NG)((0,a.D5)(s,o,i)),c=j(s,u,o);return{pubKey:u,nextSigHash:c}}function P(t){return{authType:o.Gr.Standard,spendingCondition:t}}function U(t,e){return{authType:o.Gr.Sponsored,spendingCondition:t,sponsorSpendingCondition:e||y(o.dO.P2PKH,"0".repeat(66),0,0)}}function O(t){if(t.spendingCondition)switch(t.authType){case o.Gr.Standard:return P(S(t.spendingCondition));case o.Gr.Sponsored:return U(S(t.spendingCondition),function(){let t=y(o.dO.P2PKH,"",0,0);return t.signer=(0,h.Qm)().hash160,t.keyEncoding=o.gW.Compressed,t.signature=d(),t}());default:throw new s.g9("Unexpected authorization type for signing")}throw Error("Authorization missing SpendingCondition")}function k(t,e){switch(t.authType){case o.Gr.Standard:case o.Gr.Sponsored:var n,r;return n=t.spendingCondition,r=o.Gr.Standard,w(n)?function(t,e,n){let{pubKey:r,nextSigHash:i}=D(e,n,t.fee,t.nonce,t.keyEncoding,t.signature.data),o=(0,l.j3)(0,t.hashMode,1,[r]).hash160;if(o!==t.signer)throw new s.S6(`Signer hash does not equal hash of public key(s): ${o} != ${t.signer}`);return i}(n,e,r):function(t,e,n){let r=[],i=e,u=!1,f=0;for(let e of t.fields)switch(e.contents.type){case c.l.PublicKey:(0,a.EG)(e.contents.data)||(u=!0),r.push(e.contents);break;case c.l.MessageSignature:e.pubKeyEncoding===o.gW.Uncompressed&&(u=!0);let{pubKey:l,nextSigHash:h}=D(i,n,t.fee,t.nonce,e.pubKeyEncoding,e.contents.data);if(m(t.hashMode)&&(i=h),r.push(l),65536===(f+=1))throw new s.S6("Too many signatures")}if(m(t.hashMode)&&f!==t.signaturesRequired||b(t.hashMode)&&f<t.signaturesRequired)throw new s.S6("Incorrect number of signatures");if(u&&(t.hashMode===o.dO.P2WSH||t.hashMode===o.dO.P2WSHNonSequential))throw new s.S6("Uncompressed keys are not allowed in this hash mode");let h=(0,l.j3)(0,t.hashMode,t.signaturesRequired,r).hash160;if(h!==t.signer)throw new s.S6(`Signer hash does not equal hash of public key(s): ${h} != ${t.signer}`);return i}(n,e,r);default:throw new s.g9("Invalid origin auth type")}}function B(t,e){switch(t.authType){case o.Gr.Standard:let n={...t.spendingCondition,fee:(0,r.HN)(e)};return{...t,spendingCondition:n};case o.Gr.Sponsored:let i={...t.sponsorSpendingCondition,fee:(0,r.HN)(e)};return{...t,sponsorSpendingCondition:i}}}function _(t){switch(t.authType){case o.Gr.Standard:return t.spendingCondition.fee;case o.Gr.Sponsored:return t.sponsorSpendingCondition.fee}}function H(t,e){let n={...t.spendingCondition,nonce:(0,r.HN)(e)};return{...t,spendingCondition:n}}function R(t,e){let n={...t.sponsorSpendingCondition,nonce:(0,r.HN)(e)};return{...t,sponsorSpendingCondition:n}}function z(t,e){let n={...e,nonce:(0,r.HN)(e.nonce),fee:(0,r.HN)(e.fee)};return{...t,sponsorSpendingCondition:n}}function F(t){return(0,r.ci)(K(t))}function K(t){let e=[];switch(e.push(t.authType),t.authType){case o.Gr.Standard:e.push(T(t.spendingCondition));break;case o.Gr.Sponsored:e.push(T(t.spendingCondition)),e.push(T(t.sponsorSpendingCondition))}return(0,r.WW)(e)}function W(t){let e;switch(t.readUInt8Enum(o.Gr,t=>{throw new s.xv(`Could not parse ${t} as AuthType`)})){case o.Gr.Standard:return P(N(t));case o.Gr.Sponsored:return U(N(t),N(t))}}},281:function(t,e,n){"use strict";var r,i,o,s;function a(t){return i[t]}function u(t){return i[t]}n.d(e,{QM:function(){return i},UM:function(){return u},YC:function(){return a},yp:function(){return r}}),(o=r||(r={})).Int="int",o.UInt="uint",o.Buffer="buffer",o.BoolTrue="true",o.BoolFalse="false",o.PrincipalStandard="address",o.PrincipalContract="contract",o.ResponseOk="ok",o.ResponseErr="err",o.OptionalNone="none",o.OptionalSome="some",o.List="list",o.Tuple="tuple",o.StringASCII="ascii",o.StringUTF8="utf8",(s=i||(i={}))[s.int=0]="int",s[s.uint=1]="uint",s[s.buffer=2]="buffer",s[s.true=3]="true",s[s.false=4]="false",s[s.address=5]="address",s[s.contract=6]="contract",s[s.ok=7]="ok",s[s.err=8]="err",s[s.none=9]="none",s[s.some=10]="some",s[s.list=11]="list",s[s.tuple=12]="tuple",s[s.ascii=13]="ascii",s[s.utf8=14]="utf8"},3274:function(t,e,n){"use strict";n.d(e,{i:function(){return function t(e){let n;if("string"==typeof e){let t="0x"===e.slice(0,2).toLowerCase();n=new p.n((0,r.nr)(t?e.slice(2):e))}else e instanceof Uint8Array?n=new p.n(e):n=e;switch(n.readUInt8Enum(i.QM,t=>{throw new y.xv(`Cannot recognize Clarity Type: ${t}`)})){case i.QM.int:return(0,o.q)((0,r.cn)(n.readBytes(16)));case i.QM.uint:return(0,o.R)(n.readBytes(16));case i.QM.buffer:let w=n.readUInt32BE();return(0,s.B)(n.readBytes(w));case i.QM.true:return(0,a.nC)();case i.QM.false:return(0,a.ef)();case i.QM.address:let m=(0,g.BR)(n);return(0,u.D9)(m);case i.QM.contract:let b=(0,g.BR)(n),S=(0,g.ET)(n);return(0,u.I0)(b,S);case i.QM.ok:return(0,c.R)(t(n));case i.QM.err:return(0,c.I)(t(n));case i.QM.none:return(0,l.hr)();case i.QM.some:return(0,l.PK)(t(n));case i.QM.list:let E=n.readUInt32BE(),v=[];for(let e=0;e<E;e++)v.push(t(n));return(0,f.B)(v);case i.QM.tuple:let A=n.readUInt32BE(),x={};for(let e=0;e<A;e++){let e=(0,g.ET)(n).content;if(void 0===e)throw new y.xv('"content" is undefined');x[e]=t(n)}return(0,h.M)(x);case i.QM.ascii:let M=n.readUInt32BE(),I=(0,r.Qs)(n.readBytes(M));return(0,d.jx)(I);case i.QM.utf8:let C=n.readUInt32BE(),T=(0,r.Md)(n.readBytes(C));return(0,d.M0)(T);default:throw new y.xv("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}}});var r=n(4995),i=n(281),o=n(2532),s=n(9489),a=n(841),u=n(2786),c=n(9848),l=n(7238),f=n(2047),h=n(6142),d=n(1569),p=n(1445),y=n(3610),g=n(7394)},7676:function(t,e,n){"use strict";n.d(e,{E:function(){return p},a:function(){return d}});var r=n(4995),i=n(2834),o=n(3780),s=n(3610),a=n(6855),u=n(7394),c=n(286),l=n(281);function f(t,e){return(0,r.WW)([(0,l.YC)(t),e])}function h(t,e){let n=[],o="ascii"==e?(0,r.QD)(t.value):(0,r.iY)(t.value),s=new Uint8Array(4);return(0,i.T4)(s,o.length,0),n.push(s),n.push(o),f(t.type,(0,r.WW)(n))}function d(t){return(0,r.ci)(p(t))}function p(t){switch(t.type){case l.yp.BoolTrue:case l.yp.BoolFalse:return new Uint8Array([(0,l.YC)(t.type)]);case l.yp.OptionalNone:case l.yp.OptionalSome:return t.type===l.yp.OptionalNone?new Uint8Array([(0,l.YC)(t.type)]):f(t.type,p(t.value));case l.yp.Buffer:return function(t){let e=new Uint8Array(4);return(0,i.T4)(e,Math.ceil(t.value.length/2),0),f(t.type,(0,r.eV)(e,(0,r.nr)(t.value)))}(t);case l.yp.UInt:return function(t){let e=(0,r.jk)(BigInt(t.value),o.Pe);return f(t.type,e)}(t);case l.yp.Int:return function(t){let e=(0,r.jk)((0,r.$j)(BigInt(t.value),BigInt(o.Nv)),o.Pe);return f(t.type,e)}(t);case l.yp.PrincipalStandard:return f(t.type,(0,u.lU)((0,c.p6)(t.value)));case l.yp.PrincipalContract:return function(t){let[e,n]=(0,a.ZC)(t.value);return f(t.type,(0,r.eV)((0,u.lU)((0,c.p6)(e)),(0,u.ot)((0,c.v9)(n))))}(t);case l.yp.ResponseOk:case l.yp.ResponseErr:return f(t.type,p(t.value));case l.yp.List:return function(t){let e=[],n=new Uint8Array(4);for(let r of((0,i.T4)(n,t.value.length,0),e.push(n),t.value)){let t=p(r);e.push(t)}return f(t.type,(0,r.WW)(e))}(t);case l.yp.Tuple:return function(t){let e=[],n=new Uint8Array(4);for(let r of((0,i.T4)(n,Object.keys(t.value).length,0),e.push(n),Object.keys(t.value).sort((t,e)=>t.localeCompare(e)))){let n=(0,c.v9)(r);e.push((0,u.ot)(n));let i=p(t.value[r]);e.push(i)}return f(t.type,(0,r.WW)(e))}(t);case l.yp.StringASCII:return h(t,"ascii");case l.yp.StringUTF8:return h(t,"utf8");default:throw new s.TH("Unable to serialize. Invalid Clarity Value.")}}},841:function(t,e,n){"use strict";n.d(e,{H3:function(){return s},ef:function(){return o},nC:function(){return i}});var r=n(281);let i=()=>({type:r.yp.BoolTrue}),o=()=>({type:r.yp.BoolFalse}),s=t=>t?i():o()},9489:function(t,e,n){"use strict";n.d(e,{B:function(){return o},f:function(){return s}});var r=n(4995),i=n(281);let o=t=>{if(t.byteLength>1048576)throw Error("Cannot construct clarity buffer that is greater than 1MB");return{type:i.yp.Buffer,value:(0,r.ci)(t)}},s=t=>o((0,r.iY)(t))},2532:function(t,e,n){"use strict";n.d(e,{R:function(){return l},q:function(){return c}});var r=n(4995),i=n(281);let o=BigInt("0xffffffffffffffffffffffffffffffff"),s=BigInt(0),a=BigInt("0x7fffffffffffffffffffffffffffffff"),u=BigInt("-170141183460469231731687303715884105728"),c=t=>{"string"==typeof t&&t.toLowerCase().startsWith("0x")&&(t=(0,r.cn)((0,r.nr)(t))),(0,r.$O)(t,Uint8Array)&&(t=(0,r.cn)(t));let e=(0,r.HN)(t);if(e>a)throw RangeError(`Cannot construct clarity integer from value greater than ${a}`);if(e<u)throw RangeError(`Cannot construct clarity integer form value less than ${u}`);return{type:i.yp.Int,value:e}},l=t=>{let e=(0,r.HN)(t);if(e<s)throw RangeError("Cannot construct unsigned clarity integer from negative value");if(e>o)throw RangeError(`Cannot construct unsigned clarity integer greater than ${o}`);return{type:i.yp.UInt,value:e}}},2047:function(t,e,n){"use strict";n.d(e,{B:function(){return i}});var r=n(281);function i(t){return{type:r.yp.List,value:t}}},7238:function(t,e,n){"use strict";n.d(e,{PK:function(){return o},hr:function(){return i},mw:function(){return s}});var r=n(281);function i(){return{type:r.yp.OptionalNone}}function o(t){return{type:r.yp.OptionalSome,value:t}}function s(t){return t?o(t):i()}},2786:function(t,e,n){"use strict";n.d(e,{D9:function(){return c},I0:function(){return f},L0:function(){return a},Op:function(){return u},U2:function(){return h},tM:function(){return l}});var r=n(4995),i=n(286),o=n(7708),s=n(281);function a(t){if(!t.includes("."))return u(t);{let[e,n]=t.split(".");return l(e,n)}}function u(t){let e=(0,i.p6)(t);return{type:s.yp.PrincipalStandard,value:(0,o.VM)(e)}}function c(t){return{type:s.yp.PrincipalStandard,value:(0,o.VM)(t)}}function l(t,e){return f((0,i.p6)(t),(0,i.v9)(e))}function f(t,e){if((0,r.iY)(e.content).byteLength>=128)throw Error("Contract name must be less than 128 bytes");return{type:s.yp.PrincipalContract,value:`${(0,o.VM)(t)}.${e.content}`}}function h(t,e){return{type:s.yp.PrincipalContract,value:`${t.value}.${e}`}}},9848:function(t,e,n){"use strict";n.d(e,{I:function(){return i},R:function(){return o}});var r=n(281);function i(t){return{type:r.yp.ResponseErr,value:t}}function o(t){return{type:r.yp.ResponseOk,value:t}}},1569:function(t,e,n){"use strict";n.d(e,{M0:function(){return o},jx:function(){return i},u9:function(){return s}});var r=n(281);let i=t=>({type:r.yp.StringASCII,value:t}),o=t=>({type:r.yp.StringUTF8,value:t}),s=(t,e)=>{switch(e){case"ascii":return i(t);case"utf8":return o(t)}}},6142:function(t,e,n){"use strict";n.d(e,{M:function(){return o}});var r=n(281),i=n(6855);function o(t){for(let e in t)if(!(0,i.YI)(e))throw Error(`"${e}" is not a valid Clarity name`);return{type:r.yp.Tuple,value:t}}},3780:function(t,e,n){"use strict";n.d(e,{Am:function(){return C},Cy:function(){return U},DY:function(){return I},GY:function(){return B},Gr:function(){return A},Jn:function(){return $},LT:function(){return K},MX:function(){return m},Nv:function(){return O},Pe:function(){return k},TK:function(){return D.TK},UE:function(){return H},V3:function(){return j},Z:function(){return G},ZA:function(){return _},_d:function(){return L},dO:function(){return x},dV:function(){return F},gW:function(){return M},h3:function(){return N},hW:function(){return E},m4:function(){return T},sM:function(){return P},sX:function(){return v},u0:function(){return S},wS:function(){return z},y:function(){return b},yl:function(){return R}});var r,i,o,s,a,u,c,l,f,h,d,p,y,g,w,m,b,S,E,v,A,x,M,I,C,T,N,L,j,$,D=n(1846);let P="https://hub.blockstack.org",U=128,O=128,k=16,B=32,_=80,H=65,R=32,z=64,F=34;(r=m||(m={}))[r.TokenTransfer=0]="TokenTransfer",r[r.SmartContract=1]="SmartContract",r[r.VersionedSmartContract=6]="VersionedSmartContract",r[r.ContractCall=2]="ContractCall",r[r.PoisonMicroblock=3]="PoisonMicroblock",r[r.Coinbase=4]="Coinbase",r[r.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",r[r.TenureChange=7]="TenureChange",r[r.NakamotoCoinbase=8]="NakamotoCoinbase",(i=b||(b={}))[i.Clarity1=1]="Clarity1",i[i.Clarity2=2]="Clarity2",i[i.Clarity3=3]="Clarity3",(o=S||(S={}))[o.OnChainOnly=1]="OnChainOnly",o[o.OffChainOnly=2]="OffChainOnly",o[o.Any=3]="Any";let K=["onChainOnly","offChainOnly","any"],W={[K[0]]:S.OnChainOnly,[K[1]]:S.OffChainOnly,[K[2]]:S.Any,[S.OnChainOnly]:S.OnChainOnly,[S.OffChainOnly]:S.OffChainOnly,[S.Any]:S.Any};function G(t){if(t in W)return W[t];throw Error(`Invalid anchor mode "${t}", must be one of: ${K.join(", ")}`)}(s=E||(E={}))[s.Allow=1]="Allow",s[s.Deny=2]="Deny",(a=v||(v={}))[a.STX=0]="STX",a[a.Fungible=1]="Fungible",a[a.NonFungible=2]="NonFungible",(u=A||(A={}))[u.Standard=4]="Standard",u[u.Sponsored=5]="Sponsored",(c=x||(x={}))[c.P2PKH=0]="P2PKH",c[c.P2SH=1]="P2SH",c[c.P2WPKH=2]="P2WPKH",c[c.P2WSH=3]="P2WSH",c[c.P2SHNonSequential=5]="P2SHNonSequential",c[c.P2WSHNonSequential=7]="P2WSHNonSequential",(l=M||(M={}))[l.Compressed=0]="Compressed",l[l.Uncompressed=1]="Uncompressed",(f=I||(I={}))[f.Equal=1]="Equal",f[f.Greater=2]="Greater",f[f.GreaterEqual=3]="GreaterEqual",f[f.Less=4]="Less",f[f.LessEqual=5]="LessEqual",(h=C||(C={}))[h.Sends=16]="Sends",h[h.DoesNotSend=17]="DoesNotSend",(d=T||(T={}))[d.Origin=1]="Origin",d[d.Standard=2]="Standard",d[d.Contract=3]="Contract",(p=N||(N={}))[p.STX=0]="STX",p[p.Fungible=1]="Fungible",p[p.NonFungible=2]="NonFungible",(y=L||(L={}))[y.BlockFound=0]="BlockFound",y[y.Extended=1]="Extended",(g=j||(j={}))[g.PublicKeyCompressed=0]="PublicKeyCompressed",g[g.PublicKeyUncompressed=1]="PublicKeyUncompressed",g[g.SignatureCompressed=2]="SignatureCompressed",g[g.SignatureUncompressed=3]="SignatureUncompressed",(w=$||($={})).Serialization="Serialization",w.Deserialization="Deserialization",w.SignatureValidation="SignatureValidation",w.FeeTooLow="FeeTooLow",w.BadNonce="BadNonce",w.NotEnoughFunds="NotEnoughFunds",w.NoSuchContract="NoSuchContract",w.NoSuchPublicFunction="NoSuchPublicFunction",w.BadFunctionArgument="BadFunctionArgument",w.ContractAlreadyExists="ContractAlreadyExists",w.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",w.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",w.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",w.BadAddressVersionByte="BadAddressVersionByte",w.NoCoinbaseViaMempool="NoCoinbaseViaMempool",w.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",w.ServerFailureDatabase="ServerFailureDatabase",w.ServerFailureOther="ServerFailureOther"},3610:function(t,e,n){"use strict";n.d(e,{S6:function(){return c},TH:function(){return i},g9:function(){return u},kr:function(){return s},nj:function(){return a},xv:function(){return o}});class r extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class i extends r{constructor(t){super(t)}}class o extends r{constructor(t){super(t)}}class s extends r{constructor(t){super(t)}}class a extends r{constructor(t){super(t)}}class u extends r{constructor(t){super(t)}}class c extends r{constructor(t){super(t)}}},2742:function(t,e,n){"use strict";n.d(e,{_e:function(){return P},Lg:function(){return T},NG:function(){return m},cw:function(){return g},EJ:function(){return w},vT:function(){return A},j1:function(){return M},lw:function(){return L},m2:function(){return x},_5:function(){return U},tN:function(){return E},li:function(){return C},Kc:function(){return S},D5:function(){return b},EG:function(){return I},y7:function(){return O},VD:function(){return k},TO:function(){return v},UB:function(){return j},Ud:function(){return D},fJ:function(){return $},nq:function(){return N}});var r=n(3321),i=n(9272),o=n(1814),s=n(4995),a=n(4906),u=n(9996),c=n(302),l=n(8843),f=n(3118),h=n(3780),d=n(6855),p=n(7708),y=n(7759);function g(t,e="mainnet"){return e=(0,c.tn)(e),w(C(t),e)}function w(t,e="mainnet"){e=(0,c.tn)(e),t="string"==typeof t?(0,s.nr)(t):t;let n=(0,f.c)(h.dO.P2PKH,e),r=(0,p.fi)(n,(0,d.D2)(t));return(0,p.VM)(r)}function m(t){return t="string"==typeof t?(0,s.nr)(t):t,{type:y.l.PublicKey,data:t}}function b(t,e,n=h.gW.Compressed){let r=function(t){if(t.length<129)throw Error("Invalid signature");let e=t.slice(0,2),n=t.slice(2,66),r=t.slice(66);return{recoveryId:(0,s.WR)(e),r:n,s:r}}(e),i=new o.Pc((0,s.y_)(r.r),(0,s.y_)(r.s)),a=o.E9.fromSignature(t,i,r.recoveryId),u=n===h.gW.Compressed;return a.toHex(u)}function S(t,e,n=h.gW.Compressed){return b(t,e.slice(-2)+e.slice(0,-2),n)}function E(t){return"string"==typeof t?t:(0,s.ci)(t)}o.P6.hmacSha256Sync=(t,...e)=>{let n=r.b.create(i.J,t);return e.forEach(t=>n.update(t)),n.digest()};let v=E,A=x;function x(t){return("string"==typeof t?t.length/2:t.byteLength)===a.sQ}let M=I;function I(t){return!v(t).startsWith("04")}function C(t){let e=x(t=(0,u.z)(t));return(0,s.ci)((0,o.$3)(t.slice(0,32),e))}function T(t){return o.E9.fromHex(v(t)).toHex(!0)}function N(t){return o.E9.fromHex(v(t)).toHex(!1)}let L=j;function j(){return P(o.P6.randomPrivateKey())}function $(t,e){t=(0,u.z)(t);let[n,r]=(0,o.kS)(e,t.slice(0,32),{canonical:!0,recovered:!0});if(null==r)throw Error("No signature recoveryId received");return(0,s.I4)(r,1)+o.Pc.fromHex(n).toCompactHex()}function D({messageHash:t,privateKey:e}){var n;return(n=$(e,t)).slice(2)+n.slice(0,2)}function P(t){return(t=E(t)).length==2*a.sQ?t:`${t}01`}function U(t,e){return k(C(t),e)}function O(...t){return"number"==typeof t[0]?function(t,e){return e="string"==typeof e?(0,s.nr)(e):e,(0,l.H4)(t,(0,s.ci)((0,d.M9)(e)))}(...t):k(...t)}function k(t,e){return e=e?(0,c.tn)(e):c.eN,t="string"==typeof t?(0,s.nr)(t):t,(0,l.H4)(e.addressVersion.singleSig,(0,s.ci)((0,d.M9)(t)))}},1537:function(t,e,n){"use strict";n.d(e,{Mf:function(){return f},aA:function(){return c},lE:function(){return l}});var r=n(3780),i=n(7759),o=n(7708),s=n(7394);let a={eq:r.DY.Equal,gt:r.DY.Greater,lt:r.DY.Less,gte:r.DY.GreaterEqual,lte:r.DY.LessEqual},u={sent:r.Am.Sends,"not-sent":r.Am.DoesNotSend};function c(t){switch(t.type){case"stx-postcondition":return{type:i.l.PostCondition,conditionType:r.sX.STX,principal:"origin"===t.address?{type:i.l.Principal,prefix:r.m4.Origin}:(0,o.B$)(t.address),conditionCode:a[t.condition],amount:BigInt(t.amount)};case"ft-postcondition":return{type:i.l.PostCondition,conditionType:r.sX.Fungible,principal:"origin"===t.address?{type:i.l.Principal,prefix:r.m4.Origin}:(0,o.B$)(t.address),conditionCode:a[t.condition],amount:BigInt(t.amount),asset:(0,o.GY)(t.asset)};case"nft-postcondition":return{type:i.l.PostCondition,conditionType:r.sX.NonFungible,principal:"origin"===t.address?{type:i.l.Principal,prefix:r.m4.Origin}:(0,o.B$)(t.address),conditionCode:u[t.condition],asset:(0,o.GY)(t.asset),assetName:t.assetId};default:throw Error("Invalid post condition type")}}function l(t){let e=c(t);return(0,s.YM)(e)}function f(t){if("number"==typeof t)return t;if("allow"===t)return r.hW.Allow;if("deny"===t)return r.hW.Deny;throw Error(`Invalid post condition mode: ${t}`)}},7787:function(t,e,n){"use strict";n.d(e,{Ak:function(){return g},DO:function(){return S},Io:function(){return b},KZ:function(){return v},Ne:function(){return m},pp:function(){return E},y:function(){return w}});var r=n(4995),i=n(2834),o=n(302),s=n(1846),a=n(7394),u=n(1445),c=n(3643),l=n(3780),f=n(3610),h=n(2742),d=n(6855),p=n(286),y=n(7759);class g{constructor({auth:t,payload:e,postConditions:n=(0,p.lZ)([]),postConditionMode:i=l.hW.Deny,transactionVersion:s,chainId:a,network:u="mainnet"}){u=(0,o.tn)(u),this.transactionVersion=s??u.transactionVersion,this.chainId=a??u.chainId,this.auth=t,"amount"in e?this.payload={...e,amount:(0,r.HN)(e.amount)}:this.payload=e,this.postConditionMode=i,this.postConditions=n,this.anchorMode=l.u0.Any}signBegin(){let t=(0,d.Xh)(this);return t.auth=(0,c.m5)(t.auth),t.txid()}verifyBegin(){let t=(0,d.Xh)(this);return t.auth=(0,c.m5)(t.auth),t.txid()}verifyOrigin(){return(0,c.dd)(this.auth,this.verifyBegin())}signNextOrigin(t,e){if(void 0===this.auth.spendingCondition)throw Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,l.Gr.Standard,e)}signNextSponsor(t,e){if(this.auth.authType===l.Gr.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,l.Gr.Sponsored,e);throw Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let e="object"==typeof t&&"type"in t?t:(0,h.NG)(t),n=this.auth.spendingCondition;if(n&&!(0,c.GP)(n)){let t=(0,h.EG)(e.data);n.fields.push((0,p.JT)(t?l.gW.Compressed:l.gW.Uncompressed,e))}else throw Error("Can't append public key to a singlesig condition")}signAndAppend(t,e,n,r){let{nextSig:i,nextSigHash:o}=(0,c.a6)(e,n,t.fee,t.nonce,r);if((0,c.GP)(t))t.signature=(0,p.V1)(i);else{let e=(0,h.m2)(r);t.fields.push((0,p.JT)(e?l.gW.Compressed:l.gW.Uncompressed,(0,p.V1)(i)))}return o}txid(){let t=this.serializeBytes();return(0,d.G8)(t)}setSponsor(t){if(this.auth.authType!=l.Gr.Sponsored)throw new f.g9("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,c.fc)(this.auth,t)}setFee(t){this.auth=(0,c.P_)(this.auth,t)}setNonce(t){this.auth=(0,c.nT)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=l.Gr.Sponsored)throw new f.g9("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,c.K2)(this.auth,t)}serialize(){return(0,r.ci)(this.serializeBytes())}serializeBytes(){if(void 0===this.transactionVersion)throw new f.TH('"transactionVersion" is undefined');if(void 0===this.chainId)throw new f.TH('"chainId" is undefined');if(void 0===this.auth)throw new f.TH('"auth" is undefined');if(void 0===this.payload)throw new f.TH('"payload" is undefined');let t=[];t.push(this.transactionVersion);let e=new Uint8Array(4);return(0,i.T4)(e,this.chainId,0),t.push(e),t.push((0,c.D9)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,a.d6)(this.postConditions)),t.push((0,a.ZU)(this.payload)),(0,r.WW)(t)}}function w(t){let e=(0,r.$O)(t,u.n)?t:new u.n(t),n=e.readUInt8Enum(s.Kn,t=>{throw Error(`Could not parse ${t} as TransactionVersion`)}),i=e.readUInt32BE(),o=(0,c.XH)(e),f=e.readUInt8Enum(l.u0,t=>{throw Error(`Could not parse ${t} as AnchorMode`)}),h=e.readUInt8Enum(l.hW,t=>{throw Error(`Could not parse ${t} as PostConditionMode`)}),d=(0,a.nt)(e,y.l.PostCondition),p=new g({transactionVersion:n,chainId:i,auth:o,payload:(0,a.LV)(e),postConditions:d,postConditionMode:h});return p.anchorMode=f,p}function m(t){return(0,s.mQ)(t.transactionVersion)({[s.Kn.Mainnet]:o.eN,[s.Kn.Testnet]:o.vt})}function b(t){let e=t.auth.spendingCondition.hashMode;if(![l.dO.P2SH,l.dO.P2WSH].includes(e))return t.serializeBytes().byteLength;{let e=t.auth.spendingCondition,n=e.fields.filter(t=>t.contents.type===y.l.MessageSignature).length,r=(e.signaturesRequired-n)*(l.UE+1);return t.serializeBytes().byteLength+r}}function S(t){return t.serialize()}function E(t){return t.serializeBytes()}function v(t){return t.serialize()}},6855:function(t,e,n){"use strict";n.d(e,{CE:function(){return b},D2:function(){return A},EE:function(){return N},G8:function(){return E},M9:function(){return S},O6:function(){return d},QG:function(){return y},RA:function(){return j},Sq:function(){return g},UI:function(){return M},Xh:function(){return m},YI:function(){return C},ZC:function(){return $},c1:function(){return p},dk:function(){return L},pw:function(){return w},rD:function(){return T},rv:function(){return x},tM:function(){return I},uM:function(){return s.T},yk:function(){return v}});var r=n(9330),i=n(9272),o=n(8101),s=n(1814),a=n(4995),u=n(8843),c=n(4357),l=n.n(c),f=n(7676),h=n(3274);let d=t=>s.P6.randomBytes(t),p=t=>t.length%2?`0${t}`:t,y=(t,e)=>t.padStart(e,"0"),g=(t,e)=>t.padEnd(e,"0"),w=(t,e)=>!!t&&(0,a.iY)(t).length>e;function m(t){return l()(t)}function b(t,e){let n=m(t);return delete n[e],n}let S=t=>(0,r.b)((0,i.J)(t)),E=t=>(0,a.ci)((0,o.pr)(t)),v=E,A=t=>(0,a.ci)(S(t)),x=t=>{let e=S(t),n=S((0,a.eV)(new Uint8Array([0]),new Uint8Array([e.length]),e));return(0,a.ci)(n)},M=(t,e)=>{if(t>15||e.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let n=[];n.push(80+t),e.forEach(t=>{n.push(t.length),n.push(t)}),n.push(80+e.length),n.push(174);let r=S((0,a.WW)(n));return(0,a.ci)(r)},I=(t,e)=>{if(t>15||e.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let n=[];n.push(80+t),e.forEach(t=>{n.push(t.length),n.push(t)}),n.push(80+e.length),n.push(174);let r=(0,a.WW)(n),o=(0,i.J)(r),s=[];s.push(0),s.push(o.length),s.push(o);let u=S((0,a.WW)(s));return(0,a.ci)(u)};function C(t){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(t)&&t.length<128}function T(t){let e=(0,f.a)(t);return`0x${e}`}function N(t){return(0,h.i)(t)}let L=t=>{if(t.okay)return N(t.result);throw Error(t.cause)},j=t=>{try{return(0,u.yI)(t),!0}catch(t){return!1}};function $(t){let[e,n]=t.split(".");if(!e||!n)throw Error(`Invalid contract identifier: ${t}`);return[e,n]}},286:function(t,e,n){"use strict";n.d(e,{Ao:function(){return S},JT:function(){return T},LN:function(){return h},Qm:function(){return f},UN:function(){return m},V1:function(){return p},bZ:function(){return b},kI:function(){return x},kc:function(){return E},lZ:function(){return d},oc:function(){return v},p6:function(){return M},pr:function(){return C},ql:function(){return g},qu:function(){return y},r0:function(){return w},sO:function(){return I},v9:function(){return A}});var r=n(4995),i=n(8843),o=n(2786),s=n(281),a=n(1846),u=n(3780),c=n(6855),l=n(7759);function f(){return{type:l.l.Address,version:a.TK.MainnetSingleSig,hash160:"0".repeat(40)}}function h(t){if(t&&(0,c.pw)(t,u.dV))throw Error(`Memo exceeds maximum length of ${u.dV} bytes`);return{type:l.l.MemoString,content:t}}function d(t,e){return{type:l.l.LengthPrefixedList,lengthPrefixBytes:e||4,values:t}}function p(t){if((0,r.nr)(t).byteLength!=u.UE)throw Error("Invalid signature");return{type:l.l.MessageSignature,data:t}}function y(t,e,n){return"string"==typeof t&&(t=(0,o.L0)(t)),"string"==typeof n&&(n=h(n)),{type:l.l.Payload,payloadType:u.MX.TokenTransfer,recipient:t,amount:(0,r.HN)(e),memo:n??h("")}}function g(t,e,n,r){return"string"==typeof e&&(e=A(e)),"string"==typeof n&&(n=A(n)),{type:l.l.Payload,payloadType:u.MX.ContractCall,contractAddress:"string"==typeof t?M(t):t,contractName:e,functionName:n,functionArgs:r}}function w(t){return A(t,4,1e5)}function m(t,e,n){return("string"==typeof t&&(t=A(t)),"string"==typeof e&&(e=w(e)),"number"==typeof n)?{type:l.l.Payload,payloadType:u.MX.VersionedSmartContract,clarityVersion:n,contractName:t,codeBody:e}:{type:l.l.Payload,payloadType:u.MX.SmartContract,contractName:t,codeBody:e}}function b(){return{type:l.l.Payload,payloadType:u.MX.PoisonMicroblock}}function S(t,e){if(t.byteLength!=u.GY)throw Error(`Coinbase buffer size must be ${u.GY} bytes`);return void 0!=e?{type:l.l.Payload,payloadType:u.MX.CoinbaseToAltRecipient,coinbaseBytes:t,recipient:e}:{type:l.l.Payload,payloadType:u.MX.Coinbase,coinbaseBytes:t}}function E(t,e,n){if(t.byteLength!=u.GY)throw Error(`Coinbase buffer size must be ${u.GY} bytes`);if(n.byteLength!=u.ZA)throw Error(`VRF proof buffer size must be ${u.ZA} bytes`);return{type:l.l.Payload,payloadType:u.MX.NakamotoCoinbase,coinbaseBytes:t,recipient:e.type===s.yp.OptionalSome?e.value:void 0,vrfProof:n}}function v(t,e,n,r,i,o,s){return{type:l.l.Payload,payloadType:u.MX.TenureChange,tenureHash:t,previousTenureHash:e,burnViewHash:n,previousTenureEnd:r,previousTenureBlocks:i,cause:o,publicKeyHash:s}}function A(t,e,n){let r=n||u.Cy;if((0,c.pw)(t,r))throw Error(`String length exceeds maximum bytes ${r}`);return{type:l.l.LengthPrefixedString,content:t,lengthPrefixBytes:e||1,maxLengthBytes:r}}function x(t,e,n){return{type:l.l.Asset,address:M(t),contractName:A(e),assetName:A(n)}}function M(t){let e=(0,i.yI)(t);return{type:l.l.Address,version:e[0],hash160:e[1]}}function I(t,e){let n=M(t),r=A(e);return{type:l.l.Principal,prefix:u.m4.Contract,address:n,contractName:r}}function C(t){let e=M(t);return{type:l.l.Principal,prefix:u.m4.Standard,address:e}}function T(t,e){return{pubKeyEncoding:t,type:l.l.TransactionAuthField,contents:e}}},7708:function(t,e,n){"use strict";n.d(e,{B$:function(){return b},GY:function(){return m},V9:function(){return w},VC:function(){return g},VM:function(){return h},_h:function(){return d},fi:function(){return f},j3:function(){return l},nj:function(){return p},ox:function(){return y}});var r=n(8843),i=n(3780),o=n(2742),s=n(6855),a=n(286),u=n(7394),c=n(7759);function l(t,e,n,r){if(0===r.length)throw Error("Invalid number of public keys");if((e===i.dO.P2PKH||e===i.dO.P2WPKH)&&(1!==r.length||1!==n))throw Error("Invalid number of public keys or signatures");if((e===i.dO.P2WPKH||e===i.dO.P2WSH||e===i.dO.P2WSHNonSequential)&&!r.map(t=>t.data).every(o.EG))throw Error("Public keys must be compressed for segwit");switch(e){case i.dO.P2PKH:return f(t,(0,s.D2)(r[0].data));case i.dO.P2WPKH:return f(t,(0,s.rv)(r[0].data));case i.dO.P2SH:case i.dO.P2SHNonSequential:return f(t,(0,s.UI)(n,r.map(u.W3)));case i.dO.P2WSH:case i.dO.P2WSHNonSequential:return f(t,(0,s.tM)(n,r.map(u.W3)))}}function f(t,e){return{type:c.l.Address,version:t,hash160:e}}function h(t){return(0,r.H4)(t.version,t.hash160)}function d(t){return t.payloadType===i.MX.TokenTransfer}function p(t){return t.payloadType===i.MX.ContractCall}function y(t){return t.payloadType===i.MX.SmartContract}function g(t){return t.payloadType===i.MX.PoisonMicroblock}function w(t){return t.payloadType===i.MX.Coinbase}function m(t){let[e,n,r]=t.split(/\.|::/);return(0,a.kI)(e,n,r)}function b(t){if(!t.includes("."))return(0,a.pr)(t);{let[e,n]=t.split(".");return(0,a.sO)(e,n)}}},7394:function(t,e,n){"use strict";n.d(e,{BR:function(){return S},Dc:function(){return F},ET:function(){return I},FH:function(){return m},FM:function(){return z},Fz:function(){return G},G0:function(){return L},LT:function(){return x},LV:function(){return R},OC:function(){return C},QM:function(){return v},W3:function(){return Q},Wx:function(){return E},YM:function(){return O},Ys:function(){return k},ZU:function(){return H},_I:function(){return B},aQ:function(){return q},al:function(){return _},d6:function(){return P},dK:function(){return Y},gd:function(){return g},jL:function(){return W},jh:function(){return y},kV:function(){return A},lU:function(){return b},nl:function(){return j},nt:function(){return U},oG:function(){return w},ot:function(){return M},qd:function(){return T},r3:function(){return D},v1:function(){return $},vF:function(){return N},vq:function(){return V},yw:function(){return K}});var r=n(4995),i=n(2834),o=n(1445),s=n(7676),a=n(3274),u=n(7238),c=n(3780),l=n(3610),f=n(2742),h=n(6855),d=n(286),p=n(7759);function y(t){return(0,r.ci)(g(t))}function g(t){switch(t.type){case p.l.Address:return b(t);case p.l.Principal:return v(t);case p.l.LengthPrefixedString:return M(t);case p.l.MemoString:return T(t);case p.l.Asset:return j(t);case p.l.PostCondition:return k(t);case p.l.PublicKey:return Q(t);case p.l.LengthPrefixedList:return P(t);case p.l.Payload:return H(t);case p.l.TransactionAuthField:return V(t);case p.l.MessageSignature:return W(t)}}function w(t,e,n){switch(e){case p.l.Address:return S(t);case p.l.Principal:return A(t);case p.l.LengthPrefixedString:return I(t);case p.l.MemoString:return N(t);case p.l.Asset:return $(t);case p.l.PostCondition:return B(t);case p.l.PublicKey:return q(t);case p.l.Payload:return R(t);case p.l.LengthPrefixedList:if(!n)throw new l.xv("No list type specified");return U(t,n);case p.l.MessageSignature:return z(t);default:throw Error("Could not recognize StacksWireType")}}function m(t){return(0,r.ci)(b(t))}function b(t){let e=[];return e.push((0,r.nr)((0,r.I4)(t.version,1))),e.push((0,r.nr)(t.hash160)),(0,r.WW)(e)}function S(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=(0,r.WR)((0,r.ci)(e.readBytes(1))),i=(0,r.ci)(e.readBytes(20));return{type:p.l.Address,version:n,hash160:i}}function E(t){return(0,r.ci)(v(t))}function v(t){let e=[];return e.push(t.prefix),(t.prefix===c.m4.Standard||t.prefix===c.m4.Contract)&&e.push(b(t.address)),t.prefix===c.m4.Contract&&e.push(M(t.contractName)),(0,r.WW)(e)}function A(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=e.readUInt8Enum(c.m4,t=>{throw new l.xv(`Unexpected Principal payload type: ${t}`)});if(n===c.m4.Origin)return{type:p.l.Principal,prefix:n};let i=S(e);if(n===c.m4.Standard)return{type:p.l.Principal,prefix:n,address:i};let s=I(e);return{type:p.l.Principal,prefix:n,address:i,contractName:s}}function x(t){return(0,r.ci)(M(t))}function M(t){let e=[],n=(0,r.iY)(t.content),i=n.byteLength;return e.push((0,r.nr)((0,r.I4)(i,t.lengthPrefixBytes))),e.push(n),(0,r.WW)(e)}function I(t,e,n){e=e||1;let i=(0,r.$O)(t,o.n)?t:new o.n(t),s=(0,r.WR)((0,r.ci)(i.readBytes(e))),a=(0,r.Md)(i.readBytes(s));return(0,d.v9)(a,e,n??128)}function C(t){return(0,r.ci)(T(t))}function T(t){let e=[],n=(0,r.iY)(t.content),i=(0,h.Sq)((0,r.ci)(n),2*c.dV);return e.push((0,r.nr)(i)),(0,r.WW)(e)}function N(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=(0,r.Md)(e.readBytes(c.dV));return n=n.replace(/\u0000*$/,""),{type:p.l.MemoString,content:n}}function L(t){return(0,r.ci)(j(t))}function j(t){let e=[];return e.push(b(t.address)),e.push(M(t.contractName)),e.push(M(t.assetName)),(0,r.WW)(e)}function $(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t);return{type:p.l.Asset,address:S(e),contractName:I(e),assetName:I(e)}}function D(t){return(0,r.ci)(P(t))}function P(t){let e=t.values,n=[];for(let i of(n.push((0,r.nr)((0,r.I4)(e.length,t.lengthPrefixBytes))),e))n.push(g(i));return(0,r.WW)(n)}function U(t,e,n){let i=(0,r.$O)(t,o.n)?t:new o.n(t),s=(0,r.WR)((0,r.ci)(i.readBytes(n||4))),a=[];for(let t=0;t<s;t++)switch(e){case p.l.Address:a.push(S(i));break;case p.l.LengthPrefixedString:a.push(I(i));break;case p.l.MemoString:a.push(N(i));break;case p.l.Asset:a.push($(i));break;case p.l.PostCondition:a.push(B(i));break;case p.l.PublicKey:a.push(q(i));break;case p.l.TransactionAuthField:a.push(F(i))}return(0,d.lZ)(a,n)}function O(t){return(0,r.ci)(k(t))}function k(t){let e=[];if(e.push(t.conditionType),e.push(v(t.principal)),(t.conditionType===c.sX.Fungible||t.conditionType===c.sX.NonFungible)&&e.push(j(t.asset)),t.conditionType===c.sX.NonFungible&&e.push((0,s.E)(t.assetName)),e.push(t.conditionCode),t.conditionType===c.sX.STX||t.conditionType===c.sX.Fungible){if(t.amount>BigInt("0xffffffffffffffff"))throw new l.TH("The post-condition amount may not be larger than 8 bytes");e.push((0,r.sO)(t.amount,8))}return(0,r.WW)(e)}function B(t){let e,n,i;let s=(0,r.$O)(t,o.n)?t:new o.n(t),u=s.readUInt8Enum(c.sX,t=>{throw new l.xv(`Could not read ${t} as PostConditionType`)}),f=A(s);switch(u){case c.sX.STX:return e=s.readUInt8Enum(c.DY,t=>{throw new l.xv(`Could not read ${t} as FungibleConditionCode`)}),i=BigInt(`0x${(0,r.ci)(s.readBytes(8))}`),{type:p.l.PostCondition,conditionType:c.sX.STX,principal:f,conditionCode:e,amount:i};case c.sX.Fungible:return n=$(s),e=s.readUInt8Enum(c.DY,t=>{throw new l.xv(`Could not read ${t} as FungibleConditionCode`)}),i=BigInt(`0x${(0,r.ci)(s.readBytes(8))}`),{type:p.l.PostCondition,conditionType:c.sX.Fungible,principal:f,conditionCode:e,amount:i,asset:n};case c.sX.NonFungible:n=$(s);let h=(0,a.i)(s);return e=s.readUInt8Enum(c.Am,t=>{throw new l.xv(`Could not read ${t} as FungibleConditionCode`)}),{type:p.l.PostCondition,conditionType:c.sX.NonFungible,principal:f,conditionCode:e,asset:n,assetName:h}}}function _(t){return(0,r.ci)(H(t))}function H(t){let e=[];switch(e.push(t.payloadType),t.payloadType){case c.MX.TokenTransfer:e.push((0,s.E)(t.recipient)),e.push((0,r.sO)(t.amount,8)),e.push(g(t.memo));break;case c.MX.ContractCall:e.push(g(t.contractAddress)),e.push(g(t.contractName)),e.push(g(t.functionName));let n=new Uint8Array(4);(0,i.T4)(n,t.functionArgs.length,0),e.push(n),t.functionArgs.forEach(t=>{e.push((0,s.E)(t))});break;case c.MX.SmartContract:e.push(g(t.contractName)),e.push(g(t.codeBody));break;case c.MX.VersionedSmartContract:e.push(t.clarityVersion),e.push(g(t.contractName)),e.push(g(t.codeBody));break;case c.MX.PoisonMicroblock:break;case c.MX.Coinbase:e.push(t.coinbaseBytes);break;case c.MX.CoinbaseToAltRecipient:e.push(t.coinbaseBytes),e.push((0,s.E)(t.recipient));break;case c.MX.NakamotoCoinbase:e.push(t.coinbaseBytes),e.push((0,s.E)(t.recipient?(0,u.PK)(t.recipient):(0,u.hr)())),e.push(t.vrfProof);break;case c.MX.TenureChange:e.push((0,r.nr)(t.tenureHash)),e.push((0,r.nr)(t.previousTenureHash)),e.push((0,r.nr)(t.burnViewHash)),e.push((0,r.nr)(t.previousTenureEnd)),e.push((0,i.T4)(new Uint8Array(4),t.previousTenureBlocks)),e.push((0,i.Cg)(new Uint8Array(1),t.cause)),e.push((0,r.nr)(t.publicKeyHash))}return(0,r.WW)(e)}function R(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t);switch(e.readUInt8Enum(c.MX,t=>{throw Error(`Cannot recognize PayloadType: ${t}`)})){case c.MX.TokenTransfer:let n=(0,a.i)(e),i=(0,r.HN)(e.readBytes(8)),s=N(e);return(0,d.qu)(n,i,s);case c.MX.ContractCall:let u=S(e),l=I(e),f=I(e),h=[],p=e.readUInt32BE();for(let t=0;t<p;t++){let t=(0,a.i)(e);h.push(t)}return(0,d.ql)(u,l,f,h);case c.MX.SmartContract:let y=I(e),g=I(e,4,1e5);return(0,d.UN)(y,g);case c.MX.VersionedSmartContract:{let t=e.readUInt8Enum(c.y,t=>{throw Error(`Cannot recognize ClarityVersion: ${t}`)}),n=I(e),r=I(e,4,1e5);return(0,d.UN)(n,r,t)}case c.MX.PoisonMicroblock:return(0,d.bZ)();case c.MX.Coinbase:{let t=e.readBytes(c.GY);return(0,d.Ao)(t)}case c.MX.CoinbaseToAltRecipient:{let t=e.readBytes(c.GY),n=(0,a.i)(e);return(0,d.Ao)(t,n)}case c.MX.NakamotoCoinbase:{let t=e.readBytes(c.GY),n=(0,a.i)(e),r=e.readBytes(c.ZA);return(0,d.kc)(t,n,r)}case c.MX.TenureChange:let w=(0,r.ci)(e.readBytes(20)),m=(0,r.ci)(e.readBytes(20)),b=(0,r.ci)(e.readBytes(20)),E=(0,r.ci)(e.readBytes(32)),v=e.readUInt32BE(),A=e.readUInt8Enum(c._d,t=>{throw Error(`Cannot recognize TenureChangeCause: ${t}`)}),x=(0,r.ci)(e.readBytes(20));return(0,d.oc)(w,m,b,E,v,A,x)}}function z(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t);return(0,d.V1)((0,r.ci)(e.readBytes(c.UE)))}function F(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=e.readUInt8Enum(c.V3,t=>{throw new l.xv(`Could not read ${t} as AuthFieldType`)});switch(n){case c.V3.PublicKeyCompressed:return(0,d.JT)(c.gW.Compressed,q(e));case c.V3.PublicKeyUncompressed:return(0,d.JT)(c.gW.Uncompressed,(0,f.NG)((0,f.nq)(q(e).data)));case c.V3.SignatureCompressed:return(0,d.JT)(c.gW.Compressed,z(e));case c.V3.SignatureUncompressed:return(0,d.JT)(c.gW.Uncompressed,z(e));default:throw Error(`Unknown auth field type: ${JSON.stringify(n)}`)}}function K(t){return(0,r.ci)(W(t))}function W(t){return(0,r.nr)(t.data)}function G(t){return(0,r.ci)(V(t))}function V(t){let e=[];switch(t.contents.type){case p.l.PublicKey:e.push(t.pubKeyEncoding===c.gW.Compressed?c.V3.PublicKeyCompressed:c.V3.PublicKeyUncompressed),e.push((0,r.nr)((0,f.Lg)(t.contents.data)));break;case p.l.MessageSignature:e.push(t.pubKeyEncoding===c.gW.Compressed?c.V3.SignatureCompressed:c.V3.SignatureUncompressed),e.push(W(t.contents))}return(0,r.WW)(e)}function Y(t){return(0,r.ci)(Q(t))}function Q(t){return t.data.slice()}function q(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=e.readUInt8(),i=4===n?c.wS:c.yl;return(0,f.NG)((0,r.WW)([n,e.readBytes(i)]))}},7759:function(t,e,n){"use strict";var r,i;function o(t){return e=>e[t]}n.d(e,{I:function(){return o},l:function(){return r}}),(i=r||(r={}))[i.Address=0]="Address",i[i.Principal=1]="Principal",i[i.LengthPrefixedString=2]="LengthPrefixedString",i[i.MemoString=3]="MemoString",i[i.Asset=4]="Asset",i[i.PostCondition=5]="PostCondition",i[i.PublicKey=6]="PublicKey",i[i.LengthPrefixedList=7]="LengthPrefixedList",i[i.Payload=8]="Payload",i[i.MessageSignature=9]="MessageSignature",i[i.StructuredDataSignature=10]="StructuredDataSignature",i[i.TransactionAuthField=11]="TransactionAuthField"},8282:function(t){"use strict";t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function l(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var o=(t.length-n)*u+1>>>0,c=new Uint8Array(o);t[n];){var l=e[t.charCodeAt(n)];if(255===l)return;for(var f=0,h=o-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=s*c[h]>>>0,c[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,n++}for(var d=o-i;d!==o&&0===c[d];)d++;for(var p=new Uint8Array(r+(o-d)),y=r;d!==o;)p[y++]=c[d++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var f=e[i],h=0,d=u-1;(0!==f||h<r)&&-1!==d;d--,h++)f+=256*l[d]>>>0,l[d]=f%s>>>0,f=f/s>>>0;if(0!==f)throw Error("Non-zero carry");r=h,i++}for(var p=u-r;p!==u&&0===l[p];)p++;for(var y=a.repeat(n);p<u;++p)y+=t.charAt(l[p]);return y},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw Error("Non-base"+s+" character")}}}},9196:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return(n+r)*3/4-r},e.toByteArray=function(t){var e,n,o=u(t),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(t,e,r){for(var i,o=[],s=e;s<r;s+=3)o.push(n[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(t,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(e=t[r-1])>>2]+n[e<<4&63]+"=="):2===i&&o.push(n[(e=(t[r-2]<<8)+t[r-1])>>10]+n[e>>4&63]+n[e<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9147:function(t,e,n){let r=n(8282);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},4289:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;let r=n(8523),i=n(2775),o=n(8772);e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};let s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;let a={};function u(t,e){if(!e.match(/^[0-9a-fA-F]{40}$/))throw Error("Invalid argument: not a hash160 hex string");let n=(0,r.c32checkEncode)(t,e);return`S${n}`}function c(t){if(t.length<=5)throw Error("Invalid c32 address: invalid length");if("S"!=t[0])throw Error('Invalid c32 address: must start with "S"');return(0,r.c32checkDecode)(t.slice(1))}a[e.versions.mainnet.p2pkh]=0,a[e.versions.mainnet.p2sh]=5,a[e.versions.testnet.p2pkh]=111,a[e.versions.testnet.p2sh]=196,e.c32address=u,e.c32addressDecode=c,e.b58ToC32=function(t,e=-1){let n;let r=i.decode(t),a=(0,o.bytesToHex)(r.data),c=parseInt((0,o.bytesToHex)(r.prefix),16);return e<0?(n=c,void 0!==s[c]&&(n=s[c])):n=e,u(n,a)},e.c32ToB58=function(t,e=-1){let n;let r=c(t),o=r[0],s=r[1];e<0?(n=o,void 0!==a[o]&&(n=a[o])):n=e;let u=n.toString(16);return 1===u.length&&(u=`0${u}`),i.encode(s,u)}},2775:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;let r=n(9470),i=n(8772),o=n(8282),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.encode=function(t,e="00"){let n="string"==typeof t?(0,i.hexToBytes)(t):t,a="string"==typeof e?(0,i.hexToBytes)(e):t;if(!(n instanceof Uint8Array)||!(a instanceof Uint8Array))throw TypeError("Argument must be of type Uint8Array or string");let u=(0,r.sha256)((0,r.sha256)(new Uint8Array([...a,...n])));return o(s).encode([...a,...n,...u.slice(0,4)])},e.decode=function(t){let e=o(s).decode(t),n=e.slice(0,1),i=e.slice(1,-4),a=(0,r.sha256)((0,r.sha256)(new Uint8Array([...n,...i])));return e.slice(-4).forEach((t,e)=>{if(t!==a[e])throw Error("Invalid checksum")}),{prefix:n,data:i}}},8523:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32checkDecode=e.c32checkEncode=void 0;let r=n(9470),i=n(8772),o=n(936);function s(t){let e=(0,r.sha256)((0,r.sha256)((0,i.hexToBytes)(t)));return(0,i.bytesToHex)(e.slice(0,4))}e.c32checkEncode=function(t,e){if(t<0||t>=32)throw Error("Invalid version (must be between 0 and 31)");if(!e.match(/^[0-9a-fA-F]*$/))throw Error("Invalid data (not a hex string)");(e=e.toLowerCase()).length%2!=0&&(e=`0${e}`);let n=t.toString(16);1===n.length&&(n=`0${n}`);let r=s(`${n}${e}`),i=(0,o.c32encode)(`${e}${r}`);return`${o.c32[t]}${i}`},e.c32checkDecode=function(t){t=(0,o.c32normalize)(t);let e=(0,o.c32decode)(t.slice(1)),n=t[0],r=o.c32.indexOf(n),i=e.slice(-8),a=r.toString(16);if(1===a.length&&(a=`0${a}`),s(`${a}${e.substring(0,e.length-8)}`)!==i)throw Error("Invalid c32check string: checksum mismatch");return[r,e.substring(0,e.length-8)]}},936:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;let r=n(8772);e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";let i="0123456789abcdef";function o(t){return t.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32encode=function(t,n){if(!t.match(/^[0-9a-fA-F]*$/))throw Error("Not a hex-encoded string");t.length%2!=0&&(t=`0${t}`),t=t.toLowerCase();let o=[],s=0;for(let n=t.length-1;n>=0;n--)if(s<4){let r=i.indexOf(t[n])>>s,a=0;0!==n&&(a=i.indexOf(t[n-1]));let u=1+s,c=a%(1<<u)<<5-u,l=e.c32[r+c];s=u,o.unshift(l)}else s=0;let a=0;for(let t=0;t<o.length&&"0"===o[t];t++)a++;o=o.slice(a);let u=new TextDecoder().decode((0,r.hexToBytes)(t)).match(/^\u0000*/),c=u?u[0].length:0;for(let t=0;t<c;t++)o.unshift(e.c32[0]);if(n){let t=n-o.length;for(let n=0;n<t;n++)o.unshift(e.c32[0])}return o.join("")},e.c32normalize=o,e.c32decode=function(t,n){if(!(t=o(t)).match(`^[${e.c32}]*$`))throw Error("Not a c32-encoded string");let r=t.match(`^${e.c32[0]}*`),s=r?r[0].length:0,a=[],u=0,c=0;for(let n=t.length-1;n>=0;n--){4===c&&(a.unshift(i[u]),c=0,u=0);let r=(e.c32.indexOf(t[n])<<c)+u,o=i[r%16];if(c+=1,(u=r>>4)>1<<c)throw Error("Panic error in decoding.");a.unshift(o)}a.unshift(i[u]),a.length%2==1&&a.unshift("0");let l=0;for(let t=0;t<a.length&&"0"===a[t];t++)l++;let f=(a=a.slice(l-l%2)).join("");for(let t=0;t<s;t++)f=`00${f}`;if(n){let t=2*n-f.length;for(let e=0;e<t;e+=2)f=`00${f}`}return f}},8843:function(t,e,n){"use strict";e.yI=e.H4=void 0,n(936),n(8523);let r=n(4289);Object.defineProperty(e,"H4",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"yI",{enumerable:!0,get:function(){return r.c32addressDecode}})},8697:function(){var t;t="undefined"!=typeof self?self:this,function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(t){if(t.bodyUsed)return Promise.reject(TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader,n=l(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t){if("string"==typeof t)this._bodyText=t;else if(n.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(n.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else{var e;n.arrayBuffer&&n.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,n,r=c(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=l(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},n.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=o(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},u.prototype.delete=function(t){delete this.map[o(t)]},u.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},u.prototype.set=function(t,e){this.map[o(t)]=s(e)},u.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),a(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),a(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),a(t)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(t,e){var n,r,i=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new u(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function g(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},d.call(y.prototype),d.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];w.redirect=function(t,e){if(-1===m.indexOf(e))throw RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function b(t,r){return new Promise(function(i,o){var s=new y(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new u,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),i(new w("response"in a?a.response:a.responseText,n))},a.onerror=function(){o(TypeError("Network request failed"))},a.ontimeout=function(){o(TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})}b.polyfill=!0,t.fetch||(t.fetch=b,t.Headers=u,t.Request=y,t.Response=w),e.Headers=u,e.Request=y,e.Response=w,e.fetch=b,Object.defineProperty(e,"__esModule",{value:!0})}({})},87:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=e.unescape=e.escape=e.pad=void 0;let r=n(9196);function i(t){return`${t}${"=".repeat(4-(t.length%4||4))}`}function o(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(t){return i(t).replace(/-/g,"+").replace(/_/g,"/")}e.pad=i,e.escape=o,e.unescape=s,e.encode=function(t){return o((0,r.fromByteArray)(new TextEncoder().encode(t)))},e.decode=function(t){return new TextDecoder().decode((0,r.toByteArray)(i(s(t))))}},1122:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoClients=e.SECP256K1Client=void 0;let r=n(8279);Object.defineProperty(e,"SECP256K1Client",{enumerable:!0,get:function(){return r.SECP256K1Client}});let i={ES256K:r.SECP256K1Client};e.cryptoClients=i},8279:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SECP256K1Client=void 0;let r=n(6530),i=n(9470),o=n(4938),s=n(5280),a=n(566),u=n(8772);o.utils.hmacSha256Sync=(t,...e)=>{let n=r.hmac.create(i.sha256,t);return e.forEach(t=>n.update(t)),n.digest()};class c{static derivePublicKey(t,e=!0){return 66===t.length&&(t=t.slice(0,64)),t.length<64&&(t=t.padStart(64,"0")),(0,u.bytesToHex)(o.getPublicKey(t,e))}static signHash(t,e,n="jose"){if(!t||!e)throw new a.MissingParametersError("a signing input hash and private key are all required");let r=o.signSync(t,e.slice(0,64),{der:!0,canonical:!1});if("der"===n)return(0,u.bytesToHex)(r);if("jose"===n)return(0,s.derToJose)(r,"ES256");throw Error("Invalid signature format")}static loadSignature(t){return(0,s.joseToDer)(t,"ES256")}static verifyHash(t,e,n){if(!t||!e||!n)throw new a.MissingParametersError("a signing input hash, der signature, and public key are all required");return o.verify(e,t,n,{strict:!1})}}e.SECP256K1Client=c,c.algorithmName="ES256K"},2925:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.hashSha256Async=e.hashSha256=void 0;let i=n(9470);function o(t){return(0,i.sha256)(t)}e.hashSha256=o,e.hashSha256Async=function(t){return r(this,void 0,void 0,function*(){try{if("undefined"!=typeof crypto&&void 0!==crypto.subtle){let e="string"==typeof t?new TextEncoder().encode(t):t,n=yield crypto.subtle.digest("SHA-256",e);return new Uint8Array(n)}{let e=n(8971);if(!e.createHash)throw Error("`crypto` module does not contain `createHash`");return Promise.resolve(e.createHash("sha256").update(t).digest())}}catch(e){return console.log(e),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(o(t))}})}},473:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeToken=void 0;let r=n(87);e.decodeToken=function(t){if("string"==typeof t){let e=t.split(".");return{header:JSON.parse(r.decode(e[0])),payload:JSON.parse(r.decode(e[1])),signature:e[2]}}if("object"==typeof t){if("string"!=typeof t.payload)throw Error("Expected token payload to be a base64 or json string");let e=t.payload;"{"!==t.payload[0]&&(e=r.decode(e));let n=[];return t.header.map(t=>{let e=JSON.parse(r.decode(t));n.push(e)}),{header:n,payload:JSON.parse(e),signature:t.signature}}}},5280:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joseToDer=e.derToJose=void 0;let r=n(9196),i=n(87);function o(t){return(t/8|0)+(t%8==0?0:1)}let s={ES256:o(256),ES384:o(384),ES512:o(521)};function a(t){let e=s[t];if(e)return e;throw Error(`Unknown algorithm "${t}"`)}function u(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return(0,r.toByteArray)((0,i.pad)(t));throw TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function c(t,e,n){let r=0;for(;e+r<n&&0===t[e+r];)++r;return t[e+r]>=128&&--r,r}e.derToJose=function(t,e){let n=u(t),o=a(e),s=o+1,c=n.length,l=0;if(48!==n[l++])throw Error('Could not find expected "seq"');let f=n[l++];if(129===f&&(f=n[l++]),c-l<f)throw Error(`"seq" specified length of "${f}", only "${c-l}" remaining`);if(2!==n[l++])throw Error('Could not find expected "int" for "r"');let h=n[l++];if(c-l-2<h)throw Error(`"r" specified length of "${h}", only "${c-l-2}" available`);if(s<h)throw Error(`"r" specified length of "${h}", max of "${s}" is acceptable`);let d=l;if(l+=h,2!==n[l++])throw Error('Could not find expected "int" for "s"');let p=n[l++];if(c-l!==p)throw Error(`"s" specified length of "${p}", expected "${c-l}"`);if(s<p)throw Error(`"s" specified length of "${p}", max of "${s}" is acceptable`);let y=l;if((l+=p)!==c)throw Error(`Expected to consume entire array, but "${c-l}" bytes remain`);let g=o-h,w=o-p,m=new Uint8Array(g+h+w+p);for(l=0;l<g;++l)m[l]=0;m.set(n.subarray(d+Math.max(-g,0),d+h),l),l=o;for(let t=l;l<t+w;++l)m[l]=0;return m.set(n.subarray(y+Math.max(-w,0),y+p),l),(0,i.escape)((0,r.fromByteArray)(m))},e.joseToDer=function(t,e){t=u(t);let n=a(e),r=t.length;if(r!==2*n)throw TypeError(`"${e}" signatures must be "${2*n}" bytes, saw "${r}"`);let i=c(t,0,n),o=c(t,n,t.length),s=n-i,l=n-o,f=2+s+1+1+l,h=f<128,d=new Uint8Array((h?2:3)+f),p=0;return d[p++]=48,h?d[p++]=f:(d[p++]=129,d[p++]=255&f),d[p++]=2,d[p++]=s,i<0?(d[p++]=0,d.set(t.subarray(0,n),p),p+=n):(d.set(t.subarray(i,n),p),p+=n-i),d[p++]=2,d[p++]=l,o<0?(d[p++]=0,d.set(t.subarray(n),p)):d.set(t.subarray(n+o),p),d}},566:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidTokenError=e.MissingParametersError=void 0;class n extends Error{constructor(t){super(),this.name="MissingParametersError",this.message=t||""}}e.MissingParametersError=n;class r extends Error{constructor(t){super(),this.name="InvalidTokenError",this.message=t||""}}e.InvalidTokenError=r},7299:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(9052),e),i(n(6722),e),i(n(473),e),i(n(566),e),i(n(1122),e)},9052:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.TokenSigner=e.createUnsecuredToken=void 0;let i=n(87),o=n(1122),s=n(566),a=n(2925);function u(t,e){let n=[];return n.push(i.encode(JSON.stringify(e))),n.push(i.encode(JSON.stringify(t))),n.join(".")}e.createUnsecuredToken=function(t){return u(t,{typ:"JWT",alg:"none"})+"."};class c{constructor(t,e){if(!(t&&e))throw new s.MissingParametersError("a signing algorithm and private key are required");if("string"!=typeof t)throw Error("signing algorithm parameter must be a string");if(t=t.toUpperCase(),!o.cryptoClients.hasOwnProperty(t))throw Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=o.cryptoClients[t],this.rawPrivateKey=e}header(t={}){return Object.assign({},{typ:this.tokenType,alg:this.cryptoClient.algorithmName},t)}sign(t,e=!1,n={}){let r=this.header(n),i=u(t,r),o=(0,a.hashSha256)(i);return this.createWithSignedHash(t,e,r,i,o)}signAsync(t,e=!1,n={}){return r(this,void 0,void 0,function*(){let r=this.header(n),i=u(t,r),o=yield(0,a.hashSha256Async)(i);return this.createWithSignedHash(t,e,r,i,o)})}createWithSignedHash(t,e,n,r,o){let s=this.cryptoClient.signHash(o,this.rawPrivateKey);return e?{header:[i.encode(JSON.stringify(n))],payload:JSON.stringify(t),signature:[s]}:[r,s].join(".")}}e.TokenSigner=c},6722:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenVerifier=void 0;let r=n(87),i=n(1122),o=n(566),s=n(2925);class a{constructor(t,e){if(!(t&&e))throw new o.MissingParametersError("a signing algorithm and public key are required");if("string"!=typeof t)throw"signing algorithm parameter must be a string";if(t=t.toUpperCase(),!i.cryptoClients.hasOwnProperty(t))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=i.cryptoClients[t],this.rawPublicKey=e}verify(t){return"string"==typeof t?this.verifyCompact(t,!1):"object"==typeof t&&this.verifyExpanded(t,!1)}verifyAsync(t){return"string"==typeof t?this.verifyCompact(t,!0):"object"==typeof t?this.verifyExpanded(t,!0):Promise.resolve(!1)}verifyCompact(t,e){let n=t.split("."),r=n[0]+"."+n[1],i=t=>{let e=this.cryptoClient.loadSignature(n[2]);return this.cryptoClient.verifyHash(t,e,this.rawPublicKey)};return e?(0,s.hashSha256Async)(r).then(t=>i(t)):i((0,s.hashSha256)(r))}verifyExpanded(t,e){let n=[t.header.join("."),r.encode(t.payload)].join("."),i=!0,o=e=>(t.signature.map(t=>{let n=this.cryptoClient.loadSignature(t);this.cryptoClient.verifyHash(e,n,this.rawPublicKey)||(i=!1)}),i);return e?(0,s.hashSha256Async)(n).then(t=>o(t)):o((0,s.hashSha256)(n))}}e.TokenVerifier=a},4357:function(t,e,n){t=n.nmd(t);var r,i="__lodash_hash_undefined__",o="[object Arguments]",s="[object Boolean]",a="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",d="[object Promise]",p="[object RegExp]",y="[object Set]",g="[object String]",w="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",v="[object Float64Array]",A="[object Int8Array]",x="[object Int16Array]",M="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",N="[object Uint32Array]",L=/\w*$/,j=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,D={};D[o]=D["[object Array]"]=D[b]=D[S]=D[s]=D[a]=D[E]=D[v]=D[A]=D[x]=D[M]=D[l]=D[f]=D[h]=D[p]=D[y]=D[g]=D[w]=D[I]=D[C]=D[T]=D[N]=!0,D["[object Error]"]=D[u]=D[m]=!1;var P="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,U="object"==typeof self&&self&&self.Object===Object&&self,O=P||U||Function("return this")(),k=e&&!e.nodeType&&e,B=k&&t&&!t.nodeType&&t,_=B&&B.exports===k;function H(t,e){return t.set(e[0],e[1]),t}function R(t,e){return t.add(e),t}function z(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function W(t,e){return function(n){return t(e(n))}}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var V=Array.prototype,Y=Function.prototype,Q=Object.prototype,q=O["__core-js_shared__"],Z=(r=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",X=Y.toString,J=Q.hasOwnProperty,tt=Q.toString,te=RegExp("^"+X.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tn=_?O.Buffer:void 0,tr=O.Symbol,ti=O.Uint8Array,to=W(Object.getPrototypeOf,Object),ts=Object.create,ta=Q.propertyIsEnumerable,tu=V.splice,tc=Object.getOwnPropertySymbols,tl=tn?tn.isBuffer:void 0,tf=W(Object.keys,Object),th=tP(O,"DataView"),td=tP(O,"Map"),tp=tP(O,"Promise"),ty=tP(O,"Set"),tg=tP(O,"WeakMap"),tw=tP(Object,"create"),tm=tB(th),tb=tB(td),tS=tB(tp),tE=tB(ty),tv=tB(tg),tA=tr?tr.prototype:void 0,tx=tA?tA.valueOf:void 0;function tM(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tI(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tC(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tT(t){this.__data__=new tI(t)}function tN(t,e,n){var r=t[e];J.call(t,e)&&t_(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function tL(t,e){for(var n=t.length;n--;)if(t_(t[n][0],e))return n;return -1}function tj(t){var e=new t.constructor(t.byteLength);return new ti(e).set(new ti(t)),e}function t$(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=r?r(n[s],t[s],s,n,t):void 0;tN(n,s,void 0===a?t[s]:a)}return n}function tD(t,e){var n,r=t.__data__;return("string"==(n=typeof e)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?r["string"==typeof e?"string":"hash"]:r.map}function tP(t,e){var n=null==t?void 0:t[e];return!(!tK(n)||Z&&Z in n)&&(tF(n)||F(n)?te:j).test(tB(n))?n:void 0}tM.prototype.clear=function(){this.__data__=tw?tw(null):{}},tM.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},tM.prototype.get=function(t){var e=this.__data__;if(tw){var n=e[t];return n===i?void 0:n}return J.call(e,t)?e[t]:void 0},tM.prototype.has=function(t){var e=this.__data__;return tw?void 0!==e[t]:J.call(e,t)},tM.prototype.set=function(t,e){return this.__data__[t]=tw&&void 0===e?i:e,this},tI.prototype.clear=function(){this.__data__=[]},tI.prototype.delete=function(t){var e=this.__data__,n=tL(e,t);return!(n<0)&&(n==e.length-1?e.pop():tu.call(e,n,1),!0)},tI.prototype.get=function(t){var e=this.__data__,n=tL(e,t);return n<0?void 0:e[n][1]},tI.prototype.has=function(t){return tL(this.__data__,t)>-1},tI.prototype.set=function(t,e){var n=this.__data__,r=tL(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},tC.prototype.clear=function(){this.__data__={hash:new tM,map:new(td||tI),string:new tM}},tC.prototype.delete=function(t){return tD(this,t).delete(t)},tC.prototype.get=function(t){return tD(this,t).get(t)},tC.prototype.has=function(t){return tD(this,t).has(t)},tC.prototype.set=function(t,e){return tD(this,t).set(t,e),this},tT.prototype.clear=function(){this.__data__=new tI},tT.prototype.delete=function(t){return this.__data__.delete(t)},tT.prototype.get=function(t){return this.__data__.get(t)},tT.prototype.has=function(t){return this.__data__.has(t)},tT.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tI){var r=n.__data__;if(!td||r.length<199)return r.push([t,e]),this;n=this.__data__=new tC(r)}return n.set(t,e),this};var tU=tc?W(tc,Object):function(){return[]},tO=function(t){return tt.call(t)};function tk(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Q)}function tB(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function t_(t,e){return t===e||t!=t&&e!=e}(th&&tO(new th(new ArrayBuffer(1)))!=S||td&&tO(new td)!=l||tp&&tO(tp.resolve())!=d||ty&&tO(new ty)!=y||tg&&tO(new tg)!=m)&&(tO=function(t){var e=tt.call(t),n=e==h?t.constructor:void 0,r=n?tB(n):void 0;if(r)switch(r){case tm:return S;case tb:return l;case tS:return d;case tE:return y;case tv:return m}return e});var tH=Array.isArray;function tR(t){var e;return null!=t&&"number"==typeof(e=t.length)&&e>-1&&e%1==0&&e<=9007199254740991&&!tF(t)}var tz=tl||function(){return!1};function tF(t){var e=tK(t)?tt.call(t):"";return e==u||e==c}function tK(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tW(t){return tR(t)?function(t,e){var n,r=tH(t)||t&&"object"==typeof t&&tR(t)&&J.call(t,"callee")&&(!ta.call(t,"callee")||tt.call(t)==o)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=r.length,s=!!i;for(var a in t)J.call(t,a)&&!(s&&("length"==a||(n=null==(n=i)?9007199254740991:n)&&("number"==typeof a||$.test(a))&&a>-1&&a%1==0&&a<n))&&r.push(a);return r}(t):function(t){if(!tk(t))return tf(t);var e=[];for(var n in Object(t))J.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return function t(e,n,r,i,d,m,j){if(i&&($=m?i(e,d,m,j):i(e)),void 0!==$)return $;if(!tK(e))return e;var $,P=tH(e);if(P){if(U=e.length,O=e.constructor(U),U&&"string"==typeof e[0]&&J.call(e,"index")&&(O.index=e.index,O.input=e.input),$=O,!n)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(e,$)}else{var U,O,k,B,_,W,V=tO(e),Y=V==u||V==c;if(tz(e))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(e,n);if(V==h||V==o||Y&&!m){if(F(e))return m?e:{};if($="function"!=typeof(k=Y?{}:e).constructor||tk(k)?{}:tK(B=to(k))?ts(B):{},!n)return _=(W=$)&&t$(e,tW(e),W),t$(e,tU(e),_)}else{if(!D[V])return m?e:{};$=function(t,e,n,r){var i,o,u,c=t.constructor;switch(e){case b:return tj(t);case s:case a:return new c(+t);case S:return i=r?tj(t.buffer):t.buffer,new t.constructor(i,t.byteOffset,t.byteLength);case E:case v:case A:case x:case M:case I:case C:case T:case N:return o=r?tj(t.buffer):t.buffer,new t.constructor(o,t.byteOffset,t.length);case l:return z(r?n(K(t),!0):K(t),H,new t.constructor);case f:case g:return new c(t);case p:return(u=new t.constructor(t.source,L.exec(t))).lastIndex=t.lastIndex,u;case y:return z(r?n(G(t),!0):G(t),R,new t.constructor);case w:return tx?Object(tx.call(t)):{}}}(e,V,t,n)}}j||(j=new tT);var Q=j.get(e);if(Q)return Q;if(j.set(e,$),!P){var q,Z,X=r?(Z=tW(q=e),tH(q)?Z:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(Z,tU(q))):tW(e)}return!function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(X||e,function(o,s){X&&(o=e[s=o]),tN($,s,t(o,n,r,i,s,e,j))}),$}(t,!0,!0)}},9376:function(t,e,n){"use strict";var r=n(5475);n.o(r,"useRouter")&&n.d(e,{useRouter:function(){return r.useRouter}})},257:function(t,e,n){"use strict";var r,i;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(4227)},4227:function(t){!function(){var e={229:function(t){var e,n,r,i=t.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u=[],c=!1,l=-1;function f(){c&&r&&(c=!1,r.length?u=r.concat(u):l=-1,u.length&&h())}function h(){if(!c){var t=a(f);c=!0;for(var e=u.length;e;){for(r=u,u=[];++l<e;)r&&r[l].run();l=-1,e=u.length}r=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}},s=!0;try{e[t](o,o.exports,r),s=!1}finally{s&&delete n[t]}return o.exports}r.ab="//";var i=r(229);t.exports=i}()},4043:function(t,e,n){"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}n.d(e,{aI:function(){return i}}),e.ZP={number:r,bool:function(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)},bytes:i,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")},output:function(t,e){i(t);let n=e.outputLen;if(t.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}}},5043:function(t,e,n){"use strict";n.d(e,{N:function(){return o}});var r=n(4043),i=n(8838);class o extends i.kb{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.GL)(this.buffer)}update(t){r.ZP.exists(this);let{view:e,buffer:n,blockLen:o}=this,s=(t=(0,i.O0)(t)).length;for(let r=0;r<s;){let a=Math.min(o-this.pos,s-r);if(a===o){let e=(0,i.GL)(t);for(;o<=s-r;r+=o)this.process(e,r);continue}n.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){r.ZP.exists(this),r.ZP.output(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:s}=this,{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);let i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;t.setUint32(e+u,s,r),t.setUint32(e+c,a,r)}(n,o-8,BigInt(8*this.length),s),this.process(n,0);let u=(0,i.GL)(t),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,f=this.get();if(l>f.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)u.setUint32(4*t,f[t],s)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}}},3321:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});var r=n(4043),i=n(8838);class o extends i.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,r.ZP.hash(t);let n=(0,i.O0)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return r.ZP.exists(this),this.iHash.update(t),this}digestInto(t){r.ZP.exists(this),r.ZP.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s=(t,e,n)=>new o(t,e).update(n).digest();s.create=(t,e)=>new o(t,e)},9330:function(t,e,n){"use strict";n.d(e,{b:function(){return b}});var r=n(5043),i=n(8838);let o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=Uint8Array.from({length:16},(t,e)=>e),a=s.map(t=>(9*t+5)%16),u=[s],c=[a];for(let t=0;t<4;t++)for(let e of[u,c])e.push(e[t].map(t=>o[t]));let l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),f=u.map((t,e)=>t.map(t=>l[e][t])),h=c.map((t,e)=>t.map(t=>l[e][t])),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),y=(t,e)=>t<<e|t>>>32-e;function g(t,e,n,r){return 0===t?e^n^r:1===t?e&n|~e&r:2===t?(e|~n)^r:3===t?e&r|n&~r:e^(n|~r)}let w=new Uint32Array(16);class m extends r.N{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:e,h2:n,h3:r,h4:i}=this;return[t,e,n,r,i]}set(t,e,n,r,i){this.h0=0|t,this.h1=0|e,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(t,e){for(let n=0;n<16;n++,e+=4)w[n]=t.getUint32(e,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,s=0|this.h2,a=s,l=0|this.h3,m=l,b=0|this.h4,S=b;for(let t=0;t<5;t++){let e=4-t,E=d[t],v=p[t],A=u[t],x=c[t],M=f[t],I=h[t];for(let e=0;e<16;e++){let r=y(n+g(t,i,s,l)+w[A[e]]+E,M[e])+b|0;n=b,b=l,l=0|y(s,10),s=i,i=r}for(let t=0;t<16;t++){let n=y(r+g(e,o,a,m)+w[x[t]]+v,I[t])+S|0;r=S,S=m,m=0|y(a,10),a=o,o=n}}this.set(this.h1+s+m|0,this.h2+l+S|0,this.h3+b+r|0,this.h4+n+o|0,this.h0+i+a|0)}roundClean(){w.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let b=(0,i.hE)(()=>new m)},9272:function(t,e,n){"use strict";n.d(e,{J:function(){return h}});var r=n(5043),i=n(8838);let o=(t,e,n)=>t&e^~t&n,s=(t,e,n)=>t&e^t&n^e&n,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends r.N{constructor(){super(64,32,8,!1),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}get(){let{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=c[t-15],n=c[t-2],r=(0,i.np)(e,7)^(0,i.np)(e,18)^e>>>3,o=(0,i.np)(n,17)^(0,i.np)(n,19)^n>>>10;c[t]=o+c[t-7]+r+c[t-16]|0}let{A:n,B:r,C:u,D:l,E:f,F:h,G:d,H:p}=this;for(let t=0;t<64;t++){let e=p+((0,i.np)(f,6)^(0,i.np)(f,11)^(0,i.np)(f,25))+o(f,h,d)+a[t]+c[t]|0,y=((0,i.np)(n,2)^(0,i.np)(n,13)^(0,i.np)(n,22))+s(n,r,u)|0;p=d,d=h,h=f,f=l+e|0,l=u,u=r,r=n,n=e+y|0}n=n+this.A|0,r=r+this.B|0,u=u+this.C|0,l=l+this.D|0,f=f+this.E|0,h=h+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,r,u,l,f,h,d,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}let h=(0,i.hE)(()=>new l);(0,i.hE)(()=>new f)},8101:function(t,e,n){"use strict";n.d(e,{o:function(){return g},pr:function(){return w}});var r=n(5043);let i=BigInt(4294967296-1),o=BigInt(32);var s={split:function(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){let{h:a,l:u}=function(t,e=!1){return e?{h:Number(t&i),l:Number(t>>o&i)}:{h:0|Number(t>>o&i),l:0|Number(t&i)}}(t[s],e);[n[s],r[s]]=[a,u]}return[n,r]},shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,add:function(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/4294967296|0)|0,l:0|i}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/4294967296|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,i)=>e+n+r+i+(t/4294967296|0)|0,add5H:(t,e,n,r,i,o)=>e+n+r+i+o+(t/4294967296|0)|0,add5L:(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},a=n(8838);let[u,c]=s.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),l=new Uint32Array(80),f=new Uint32Array(80);class h extends r.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:l,Fl:f,Gh:h,Gl:d,Hh:p,Hl:y}=this;return[t,e,n,r,i,o,s,a,u,c,l,f,h,d,p,y]}set(t,e,n,r,i,o,s,a,u,c,l,f,h,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|f,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let n=0;n<16;n++,e+=4)l[n]=t.getUint32(e),f[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){let e=0|l[t-15],n=0|f[t-15],r=s.rotrSH(e,n,1)^s.rotrSH(e,n,8)^s.shrSH(e,n,7),i=s.rotrSL(e,n,1)^s.rotrSL(e,n,8)^s.shrSL(e,n,7),o=0|l[t-2],a=0|f[t-2],u=s.rotrSH(o,a,19)^s.rotrBH(o,a,61)^s.shrSH(o,a,6),c=s.rotrSL(o,a,19)^s.rotrBL(o,a,61)^s.shrSL(o,a,6),h=s.add4L(i,c,f[t-7],f[t-16]),d=s.add4H(h,r,u,l[t-7],l[t-16]);l[t]=0|d,f[t]=0|h}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:h,Dh:d,Dl:p,Eh:y,El:g,Fh:w,Fl:m,Gh:b,Gl:S,Hh:E,Hl:v}=this;for(let t=0;t<80;t++){let e=s.rotrSH(y,g,14)^s.rotrSH(y,g,18)^s.rotrBH(y,g,41),A=s.rotrSL(y,g,14)^s.rotrSL(y,g,18)^s.rotrBL(y,g,41),x=y&w^~y&b,M=g&m^~g&S,I=s.add5L(v,A,M,c[t],f[t]),C=s.add5H(I,E,e,x,u[t],l[t]),T=0|I,N=s.rotrSH(n,r,28)^s.rotrBH(n,r,34)^s.rotrBH(n,r,39),L=s.rotrSL(n,r,28)^s.rotrBL(n,r,34)^s.rotrBL(n,r,39),j=n&i^n&a^i&a,$=r&o^r&h^o&h;E=0|b,v=0|S,b=0|w,S=0|m,w=0|y,m=0|g,({h:y,l:g}=s.add(0|d,0|p,0|C,0|T)),d=0|a,p=0|h,a=0|i,h=0|o,i=0|n,o=0|r;let D=s.add3L(T,L,$);n=s.add3H(D,C,N,j),r=0|D}({h:n,l:r}=s.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=s.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:h}=s.add(0|this.Ch,0|this.Cl,0|a,0|h)),({h:d,l:p}=s.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:g}=s.add(0|this.Eh,0|this.El,0|y,0|g)),({h:w,l:m}=s.add(0|this.Fh,0|this.Fl,0|w,0|m)),({h:b,l:S}=s.add(0|this.Gh,0|this.Gl,0|b,0|S)),({h:E,l:v}=s.add(0|this.Hh,0|this.Hl,0|E,0|v)),this.set(n,r,i,o,a,h,d,p,y,g,w,m,b,S,E,v)}roundClean(){l.fill(0),f.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class d extends h{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class p extends h{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class y extends h{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}let g=(0,a.hE)(()=>new h);(0,a.hE)(()=>new d);let w=(0,a.hE)(()=>new p);(0,a.hE)(()=>new y)},8838:function(t,e,n){"use strict";n.d(e,{kb:function(){return f},ci:function(){return s},eV:function(){return l},GL:function(){return r},nr:function(){return a},np:function(){return i},O0:function(){return c},iY:function(){return u},hE:function(){return h}}),"object"==typeof self&&"crypto"in self&&self.crypto;let r=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),i=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");let o=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function s(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=o[t[n]];return e}function a(t){if("string"!=typeof t)throw TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){let r=2*n,i=Number.parseInt(t.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");e[n]=i}return e}function u(t){if("string"!=typeof t)throw TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function c(t){if("string"==typeof t&&(t=u(t)),!(t instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function l(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e}class f{clone(){return this._cloneInto()}}function h(t){let e=e=>t().update(c(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}},1814:function(t,e,n){"use strict";let r,i;n.d(e,{$3:function(){return Y},E9:function(){return v},P6:function(){return tr},Pc:function(){return M},T:function(){return tt},ZV:function(){return q},iH:function(){return h},kS:function(){return X}});var o,s=n(5856);let a=BigInt(0),u=BigInt(1),c=BigInt(2),l=BigInt(3),f=BigInt(8),h=Object.freeze({a:a,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),d=(t,e)=>(t+e/c)/e,p={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=h,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=d(n*t,e),a=d(-r*t,e),c=B(t-s*n-a*i,e),l=B(-s*r-a*n,e),f=c>o,p=l>o;if(f&&(c=e-c),p&&(l=e-l),c>o||l>o)throw Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:l}}};function y(t){let{a:e,b:n}=h,r=B(t*t),i=B(r*t);return B(i+e*t+n)}let g=h.a===a;class w extends Error{constructor(t){super(t)}}function m(t){if(!(t instanceof b))throw TypeError("JacobianPoint expected")}class b{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof v))throw TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(v.ZERO)?b.ZERO:new b(t.x,t.y,u)}static toAffineBatch(t){let e=function(t,e=h.P){let n=Array(t.length),r=H(t.reduce((t,r,i)=>r===a?t:(n[i]=t,B(t*r,e)),u),e);return t.reduceRight((t,r,i)=>r===a?t:(n[i]=B(t*n[i],e),B(t*r,e)),r),n}(t.map(t=>t.z));return t.map((t,n)=>t.toAffine(e[n]))}static normalizeZ(t){return b.toAffineBatch(t).map(b.fromAffine)}equals(t){m(t);let{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t,a=B(r*r),u=B(s*s),c=B(e*u),l=B(i*a),f=B(B(n*s)*u),h=B(B(o*r)*a);return c===l&&f===h}negate(){return new b(this.x,B(-this.y),this.z)}double(){let{x:t,y:e,z:n}=this,r=B(t*t),i=B(e*e),o=B(i*i),s=t+i,a=B(c*(B(s*s)-r-o)),u=B(l*r),h=B(u*u),d=B(h-c*a),p=B(u*(a-d)-f*o);return new b(d,p,B(c*e*n))}add(t){m(t);let{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t;if(i===a||o===a)return this;if(e===a||n===a)return t;let u=B(r*r),l=B(s*s),f=B(e*l),h=B(i*u),d=B(B(n*s)*l),p=B(B(o*r)*u),y=B(h-f),g=B(p-d);if(y===a)return g===a?this.double():b.ZERO;let w=B(y*y),S=B(y*w),E=B(f*w),v=B(g*g-S-c*E),A=B(g*(E-v)-d*S);return new b(v,A,B(r*s*y))}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let e=b.ZERO;if("bigint"==typeof t&&t===a)return e;let n=k(t);if(n===u)return this;if(!g){let t=e,r=this;for(;n>a;)n&u&&(t=t.add(r)),r=r.double(),n>>=u;return t}let{k1neg:r,k1:i,k2neg:o,k2:s}=p.splitScalar(n),c=e,l=e,f=this;for(;i>a||s>a;)i&u&&(c=c.add(f)),s&u&&(l=l.add(f)),f=f.double(),i>>=u,s>>=u;return r&&(c=c.negate()),o&&(l=l.negate()),l=new b(B(l.x*p.beta),l.y,l.z),c.add(l)}precomputeWindow(t){let e=g?128/t+1:256/t+1,n=[],r=this,i=r;for(let o=0;o<e;o++){i=r,n.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&&this.equals(b.BASE)&&(e=v.BASE);let n=e&&e._WINDOW_SIZE||1;if(256%n)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&E.get(e);!r&&(r=this.precomputeWindow(n),e&&1!==n&&(r=b.normalizeZ(r),E.set(e,r)));let i=b.ZERO,o=b.BASE,s=1+(g?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let e=0;e<s;e++){let n=e*a,s=Number(t&c);t>>=f,s>a&&(s-=l,t+=u);let h=n+Math.abs(s)-1,d=e%2!=0,p=s<0;0===s?o=o.add(S(d,r[n])):i=i.add(S(p,r[h]))}return{p:i,f:o}}multiply(t,e){let n,r,i=k(t);if(g){let{k1neg:t,k1:o,k2neg:s,k2:a}=p.splitScalar(i),{p:u,f:c}=this.wNAF(o,e),{p:l,f:f}=this.wNAF(a,e);u=S(t,u),l=new b(B((l=S(s,l)).x*p.beta),l.y,l.z),n=u.add(l),r=c.add(f)}else{let{p:t,f:o}=this.wNAF(i,e);n=t,r=o}return b.normalizeZ([n,r])[0]}toAffine(t){let{x:e,y:n,z:r}=this,i=this.equals(b.ZERO);null==t&&(t=i?f:H(r));let o=t,s=B(o*o),a=B(s*o),c=B(e*s),l=B(n*a),h=B(r*o);if(i)return v.ZERO;if(h!==u)throw Error("invZ was invalid");return new v(c,l)}}function S(t,e){let n=e.negate();return t?n:e}b.BASE=new b(h.Gx,h.Gy,u),b.ZERO=new b(a,u,a);let E=new WeakMap;class v{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,E.delete(this)}hasEvenY(){return this.y%c===a}static fromCompressedHex(t){let e=32===t.length,n=U(e?t:t.subarray(1));if(!K(n))throw Error("Point is not on curve");let r=function(t){let{P:e}=h,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=t*t*t%e,f=u*u*t%e,d=_(f,l)*f%e,p=_(d,l)*f%e,y=_(p,c)*u%e,g=_(y,r)*y%e,w=_(g,i)*g%e,m=_(w,s)*w%e,b=_(m,a)*m%e,S=_(b,s)*w%e,E=_(S,l)*f%e,v=_(E,o)*g%e,A=_(v,n)*u%e,x=_(A,c);if(x*x%e!==t)throw Error("Cannot find square root");return x}(y(n)),i=(r&u)===u;e?i&&(r=B(-r)):(1&t[0])==1!==i&&(r=B(-r));let o=new v(n,r);return o.assertValidity(),o}static fromUncompressedHex(t){let e=new v(U(t.subarray(1,33)),U(t.subarray(33,65)));return e.assertValidity(),e}static fromHex(t){let e=O(t),n=e.length,r=e[0];if(32===n||33===n&&(2===r||3===r))return this.fromCompressedHex(e);if(65===n&&4===r)return this.fromUncompressedHex(e);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return v.BASE.multiply(W(t))}static fromSignature(t,e,n){let{r,s:i}=V(e);if(![0,1,2,3].includes(n))throw Error("Cannot recover: invalid recovery bit");let o=R(O(t)),{n:s}=h,a=2===n||3===n?r+s:r,u=H(a,s),c=B(-o*u,s),l=B(i*u,s),f=1&n?"03":"02",d=v.fromHex(f+L(a)),p=v.BASE.multiplyAndAddUnsafe(d,c,l);if(!p)throw Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return P(this.toHex(t))}toHex(t=!1){let e=L(this.x);if(!t)return`04${e}${L(this.y)}`;{let t=this.hasEvenY()?"02":"03";return`${t}${e}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:e,y:n}=this;if(!K(e)||!K(n))throw Error(t);let r=B(n*n);if(B(r-y(e))!==a)throw Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new v(this.x,B(-this.y))}double(){return b.fromAffine(this).double().toAffine()}add(t){return b.fromAffine(this).add(b.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return b.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){let r=b.fromAffine(this),i=e===a||e===u||this!==v.BASE?r.multiplyUnsafe(e):r.multiply(e),o=b.fromAffine(t).multiplyUnsafe(n),s=i.add(o);return s.equals(b.ZERO)?void 0:s.toAffine()}}function A(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function x(t){if(t.length<2||2!==t[0])throw Error(`Invalid signature integer tag: ${T(t)}`);let e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:U(n),left:t.subarray(e+2)}}v.BASE=new v(h.Gx,h.Gy),v.ZERO=new v(a,a);class M{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){let e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw TypeError(`${n}: Expected string or Uint8Array`);let r=e?T(t):t;if(128!==r.length)throw Error(`${n}: Expected 64-byte hex`);return new M(D(r.slice(0,64)),D(r.slice(64,128)))}static fromDER(t){let e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw Error(`Invalid signature tag: ${T(t)}`);if(t[1]!==t.length-2)throw Error("Invalid signature: incorrect length");let{data:e,left:n}=x(t.subarray(2)),{data:r,left:i}=x(n);if(i.length)throw Error(`Invalid signature: left bytes after parsing: ${T(i)}`);return{r:e,s:r}}(e?t:P(t));return new M(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:e}=this;if(!F(t))throw Error("Invalid Signature: r must be 0 < r < n");if(!F(e))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=h.n>>u;return this.s>t}normalizeS(){return this.hasHighS()?new M(this.r,B(-this.s,h.n)):this}toDERRawBytes(){return P(this.toDERHex())}toDERHex(){let t=A($(this.s)),e=A($(this.r)),n=t.length/2,r=e.length/2,i=$(n),o=$(r),s=$(r+n+4);return`30${s}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return P(this.toCompactHex())}toCompactHex(){return L(this.r)+L(this.s)}}function I(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e}let C=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function T(t){if(!(t instanceof Uint8Array))throw Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=C[t[n]];return e}let N=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function L(t){if("bigint"!=typeof t)throw Error("Expected bigint");if(!(a<=t&&t<N))throw Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function j(t){let e=P(L(t));if(32!==e.length)throw Error("Error: expected 32 bytes");return e}function $(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function D(t){if("string"!=typeof t)throw TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function P(t){if("string"!=typeof t)throw TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){let r=2*n,i=Number.parseInt(t.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");e[n]=i}return e}function U(t){return D(T(t))}function O(t){return t instanceof Uint8Array?Uint8Array.from(t):P(t)}function k(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&F(t))return t;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function B(t,e=h.P){let n=t%e;return n>=a?n:e+n}function _(t,e){let{P:n}=h,r=t;for(;e-- >a;)r*=r,r%=n;return r}function H(t,e=h.P){if(t===a||e<=a)throw Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=B(t,e),r=e,i=a,o=u,s=u,c=a;for(;n!==a;){let t=r/n,e=r%n,a=i-s*t,u=o-c*t;r=n,n=e,i=s,o=c,s=a,c=u}if(r!==u)throw Error("invert: does not exist");return B(i,e)}function R(t,e=!1){let n=function(t){let e=8*t.length-256,n=U(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;let{n:r}=h;return n>=r?n-r:n}class z{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return tr.hmacSha256(this.k,...t)}hmacSync(...t){return i(this.k,...t)}checkSync(){if("function"!=typeof i)throw new w("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();e.push(n),t+=this.v.length}return I(...e)}generateSync(){this.checkSync(),this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();e.push(n),t+=this.v.length}return I(...e)}}function F(t){return a<t&&t<h.n}function K(t){return a<t&&t<h.P}function W(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(64!==t.length)throw Error("Expected 32 bytes of private key");e=D(t)}else if(t instanceof Uint8Array){if(32!==t.length)throw Error("Expected 32 bytes of private key");e=U(t)}else throw TypeError("Expected valid private key");if(!F(e))throw Error("Expected private key: 0 < key < n");return e}function G(t){return t instanceof v?(t.assertValidity(),t):v.fromHex(t)}function V(t){if(t instanceof M)return t.assertValidity(),t;try{return M.fromDER(t)}catch(e){return M.fromCompact(t)}}function Y(t,e=!1){return v.fromPrivateKey(t).toRawBytes(e)}function Q(t){let e=t instanceof Uint8Array,n="string"==typeof t,r=(e||n)&&t.length;return e?33===r||65===r:n?66===r||130===r:t instanceof v}function q(t,e,n=!1){if(Q(t))throw TypeError("getSharedSecret: first arg must be private key");if(!Q(e))throw TypeError("getSharedSecret: second arg must be public key");let r=G(e);return r.assertValidity(),r.multiply(W(t)).toRawBytes(n)}function Z(t){return U(t.length>32?t.slice(0,32):t)}function X(t,e,n={}){let r;let{seed:i,m:o,d:s}=function(t,e,n){if(null==t)throw Error(`sign: expected valid message hash, not "${t}"`);let r=O(t),i=W(e),o=[j(i),function(t){let e=Z(t),n=B(e,h.n);return j(n<a?e:n)}(r)];if(null!=n){!0===n&&(n=tr.randomBytes(32));let t=O(n);if(32!==t.length)throw Error("sign: Expected 32 bytes of extra data");o.push(t)}return{seed:I(...o),m:Z(r),d:i}}(t,e,n.extraEntropy),c=new z(32,32);for(c.reseedSync(i);!(r=function(t,e,n,r=!0){let{n:i}=h,o=R(t,!0);if(!F(o))return;let s=H(o,i),c=v.BASE.multiply(o),l=B(c.x,i);if(l===a)return;let f=B(s*B(e+n*l,i),i);if(f===a)return;let d=new M(l,f),p=(c.x===d.r?0:2)|Number(c.y&u);return r&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}(c.generateSync(),o,s,n.canonical));)c.reseedSync();return function(t,e){let{sig:n,recovery:r}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[s,r]:s}(r,n)}let J={strict:!0};function tt(t,e,n,r=J){let i,o;try{i=V(t),e=O(e)}catch(t){return!1}let{r:s,s:a}=i;if(r.strict&&i.hasHighS())return!1;let u=R(e);try{o=G(n)}catch(t){return!1}let{n:c}=h,l=H(a,c),f=B(u*l,c),d=B(s*l,c),p=v.BASE.multiplyAndAddUnsafe(o,f,d);return!!p&&B(p.x,c)===s}v.BASE._setWindowSize(8);let te={node:o||(o=n.t(s,2)),web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},tn={},tr={bytesToHex:T,hexToBytes:P,concatBytes:I,mod:B,invert:H,isValidPrivateKey(t){try{return W(t),!0}catch(t){return!1}},_bigintTo32Bytes:j,_normalizePrivateKey:W,hashToPrivateKey:t=>{if((t=O(t)).length<40||t.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");return j(B(U(t),h.n-u)+u)},randomBytes:(t=32)=>{if(te.web)return te.web.getRandomValues(new Uint8Array(t));if(te.node){let{randomBytes:e}=te.node;return Uint8Array.from(e(t))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>tr.hashToPrivateKey(tr.randomBytes(40)),precompute(t=8,e=v.BASE){let n=e===v.BASE?e:new v(e.x,e.y);return n._setWindowSize(t),n.multiply(l),n},sha256:async(...t)=>{if(te.web)return new Uint8Array(await te.web.subtle.digest("SHA-256",I(...t)));if(te.node){let{createHash:e}=te.node,n=e("sha256");return t.forEach(t=>n.update(t)),Uint8Array.from(n.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(te.web){let n=await te.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=I(...e);return new Uint8Array(await te.web.subtle.sign("HMAC",n,r))}if(te.node){let{createHmac:n}=te.node,r=n("sha256",t);return e.forEach(t=>r.update(t)),Uint8Array.from(r.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=tn[t];if(void 0===n){let e=await tr.sha256(Uint8Array.from(t,t=>t.charCodeAt(0)));n=I(e,e),tn[t]=n}return tr.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof r)throw new w("sha256Sync is undefined, you need to set it");let n=tn[t];if(void 0===n){let e=r(Uint8Array.from(t,t=>t.charCodeAt(0)));n=I(e,e),tn[t]=n}return r(n,...e)},_JacobianPoint:b};Object.defineProperties(tr,{sha256Sync:{configurable:!1,get:()=>r,set(t){r||(r=t)}},hmacSha256Sync:{configurable:!1,get:()=>i,set(t){i||(i=t)}}})},7011:function(t,e,n){"use strict";let r,i,o;n.d(e,{n$:function(){return eb}});var s,a,u,c,l,f,h,d,p,y,g,w,m,b,S,E,v,A,x,M,I,C,T,N,L,j,$,D,P,U,O,k,B,_,H,R,z,F,K,W,G,V,Y=n(7130),Q=n(4988),q=n(7299),Z=n(9166);(s=C||(C={}))[s.Testnet=2147483648]="Testnet",s[s.Mainnet=1]="Mainnet",(a=T||(T={}))[a.Mainnet=0]="Mainnet",a[a.Testnet=128]="Testnet",(u=N||(N={}))[u.Mainnet=385875968]="Mainnet",u[u.Testnet=4278190080]="Testnet",n(8697);let X={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function J(t,e){let n={};return Object.assign(n,X,e),await fetch(t,n)}let tt=["mainnet","testnet","devnet","mocknet"];class te{constructor(t){this.version=T.Mainnet,this.chainId=C.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===T.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=t=>`${this.coreApiUrl}${this.accountEndpoint}/${t}?proof=0`,this.getAccountExtendedBalancesApiUrl=t=>`${this.coreApiUrl}/extended/v1/address/${t}/balances`,this.getAbiApiUrl=(t,e)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${t}/${e}`,this.getReadOnlyFunctionCallApiUrl=(t,e,n)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${t}/${e}/${encodeURIComponent(n)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(t,e)=>{let n=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}`;return e&&(n=`${n}?limit=${e.limit}&offset=${e.offset}`),n},this.getRewardsTotalUrl=t=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${t}/total`,this.getRewardHoldersUrl=(t,e)=>{let n=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${t}`;return e&&(n=`${n}?limit=${e.limit}&offset=${e.offset}`),n},this.getStackerInfoUrl=(t,e)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${t}/${e}/get-stacker-info`,this.getDataVarUrl=(t,e,n)=>`${this.coreApiUrl}/v2/data_var/${t}/${e}/${n}?proof=0`,this.getMapEntryUrl=(t,e,n)=>`${this.coreApiUrl}/v2/map_entry/${t}/${e}/${n}?proof=0`,this.coreApiUrl=t.url,this.fetchFn=t.fetchFn??function(...t){let e,n;let{fetchLib:r,middlewares:i}=(e=J,n=[],t.length>0&&"function"==typeof t[0]&&(e=t.shift()),t.length>0&&(n=t),{fetchLib:e,middlewares:n});return async(t,e)=>{let n={url:t,init:e??{}};for(let t of i)"function"==typeof t.pre&&(n=await Promise.resolve(t.pre({fetch:r,...n}))??n);let o=await r(n.url,n.init);for(let t of i)"function"==typeof t.post&&(o=await Promise.resolve(t.post({fetch:r,url:n.url,init:n.init,response:o?.clone()??o}))??o);return o}}()}getNameInfo(t){let e=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(e).then(t=>{if(404===t.status)throw Error("Name not found");if(200===t.status)return t.json();throw Error(`Bad response status: ${t.status}`)}).then(t=>t.address?Object.assign({},t,{address:t.address}):t)}}te.fromName=t=>{switch(t){case"mainnet":return new tn;case"testnet":return new tr;case"devnet":return new to;case"mocknet":return new ti;default:throw Error(`Invalid network name provided. Must be one of the following: ${tt.join(", ")}`)}},te.fromNameOrNetwork=t=>"string"!=typeof t&&"version"in t?t:te.fromName(t);class tn extends te{constructor(t){super({url:t?.url??"https://api.mainnet.hiro.so",fetchFn:t?.fetchFn}),this.version=T.Mainnet,this.chainId=C.Mainnet}}class tr extends te{constructor(t){super({url:t?.url??"https://api.testnet.hiro.so",fetchFn:t?.fetchFn}),this.version=T.Testnet,this.chainId=C.Testnet}}class ti extends te{constructor(t){super({url:t?.url??"http://localhost:3999",fetchFn:t?.fetchFn}),this.version=T.Testnet,this.chainId=C.Testnet}}let to=ti;var ts=n(1846),ta=n(4995),tu=n(1537),tc=n(7787),tl=n(7676);function tf(t,e){let n=t;if("number"==typeof n){if(!Number.isInteger(n))throw RangeError("Invalid value. Values of type 'number' must be an integer.");if(n>Number.MAX_SAFE_INTEGER)throw RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(n)}if("string"==typeof n){if(n.toLowerCase().startsWith("0x")){let t=n.slice(2);n=tg(t=t.padStart(t.length+t.length%2,"0"))}else try{return BigInt(n)}catch(t){if(t instanceof SyntaxError)throw RangeError(`Invalid value. String integer '${n}' is not finite.`)}}if("bigint"==typeof n)return n;if(n instanceof Uint8Array){var r,i,o;return e?BigInt((r=BigInt(`0x${ty(n)}`),(o=(i=BigInt(8*n.byteLength))-BigInt(1),r&BigInt(1)<<o)?r-(BigInt(1)<<i):r).toString()):BigInt(`0x${ty(n)}`)}if(null!=n&&"object"==typeof n&&"BN"===n.constructor.name)return BigInt(n.toString());throw TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}function th(t,e=8){return("bigint"==typeof t?t:tf(t,!1)).toString(16).padStart(2*e,"0")}function td(t,e=16){return tg(th(t,e))}let tp=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ty(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected");let e="";for(let n of t)e+=tp[n];return e}function tg(t){if("string"!=typeof t)throw TypeError(`hexToBytes: expected string, got ${typeof t}`);let e=(t=t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t).length%2?`0${t}`:t,n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){let r=2*t,i=Number.parseInt(e.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");n[t]=i}return n}function tw(t){return new TextEncoder().encode(t)}function tm(t){return!Number.isInteger(t)||t<0||t>255}function tb(t){if(t.some(tm))throw Error("Some values are invalid bytes.");return new Uint8Array(t)}function tS(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e}function tE(t){return tS(...t.map(t=>"number"==typeof t?tb([t]):t instanceof Array?tb(t):t))}(c=L||(L={}))[c.Testnet=2147483648]="Testnet",c[c.Mainnet=1]="Mainnet",L.Mainnet,(l=j||(j={}))[l.Address=0]="Address",l[l.Principal=1]="Principal",l[l.LengthPrefixedString=2]="LengthPrefixedString",l[l.MemoString=3]="MemoString",l[l.AssetInfo=4]="AssetInfo",l[l.PostCondition=5]="PostCondition",l[l.PublicKey=6]="PublicKey",l[l.LengthPrefixedList=7]="LengthPrefixedList",l[l.Payload=8]="Payload",l[l.MessageSignature=9]="MessageSignature",l[l.StructuredDataSignature=10]="StructuredDataSignature",l[l.TransactionAuthField=11]="TransactionAuthField",(f=$||($={}))[f.TokenTransfer=0]="TokenTransfer",f[f.SmartContract=1]="SmartContract",f[f.VersionedSmartContract=6]="VersionedSmartContract",f[f.ContractCall=2]="ContractCall",f[f.PoisonMicroblock=3]="PoisonMicroblock",f[f.Coinbase=4]="Coinbase",f[f.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",f[f.TenureChange=7]="TenureChange",f[f.NakamotoCoinbase=8]="NakamotoCoinbase",(h=D||(D={}))[h.Clarity1=1]="Clarity1",h[h.Clarity2=2]="Clarity2",h[h.Clarity3=3]="Clarity3",(d=P||(P={}))[d.OnChainOnly=1]="OnChainOnly",d[d.OffChainOnly=2]="OffChainOnly",d[d.Any=3]="Any",P.OnChainOnly,P.OffChainOnly,P.Any,P.OnChainOnly,P.OnChainOnly,P.OffChainOnly,P.OffChainOnly,P.Any,P.Any,(p=U||(U={}))[p.Mainnet=0]="Mainnet",p[p.Testnet=128]="Testnet",U.Mainnet,(y=O||(O={}))[y.Allow=1]="Allow",y[y.Deny=2]="Deny",(g=k||(k={}))[g.STX=0]="STX",g[g.Fungible=1]="Fungible",g[g.NonFungible=2]="NonFungible",(w=B||(B={}))[w.Standard=4]="Standard",w[w.Sponsored=5]="Sponsored",(m=_||(_={}))[m.SerializeP2PKH=0]="SerializeP2PKH",m[m.SerializeP2SH=1]="SerializeP2SH",m[m.SerializeP2WPKH=2]="SerializeP2WPKH",m[m.SerializeP2WSH=3]="SerializeP2WSH",m[m.SerializeP2SHNonSequential=5]="SerializeP2SHNonSequential",m[m.SerializeP2WSHNonSequential=7]="SerializeP2WSHNonSequential",(b=H||(H={}))[b.MainnetSingleSig=22]="MainnetSingleSig",b[b.MainnetMultiSig=20]="MainnetMultiSig",b[b.TestnetSingleSig=26]="TestnetSingleSig",b[b.TestnetMultiSig=21]="TestnetMultiSig",(S=R||(R={}))[S.Compressed=0]="Compressed",S[S.Uncompressed=1]="Uncompressed",(E=z||(z={}))[E.Equal=1]="Equal",E[E.Greater=2]="Greater",E[E.GreaterEqual=3]="GreaterEqual",E[E.Less=4]="Less",E[E.LessEqual=5]="LessEqual",(v=F||(F={}))[v.Sends=16]="Sends",v[v.DoesNotSend=17]="DoesNotSend",(A=K||(K={}))[A.Origin=1]="Origin",A[A.Standard=2]="Standard",A[A.Contract=3]="Contract",(x=W||(W={}))[x.STX=0]="STX",x[x.Fungible=1]="Fungible",x[x.NonFungible=2]="NonFungible",(M=G||(G={})).Serialization="Serialization",M.Deserialization="Deserialization",M.SignatureValidation="SignatureValidation",M.FeeTooLow="FeeTooLow",M.BadNonce="BadNonce",M.NotEnoughFunds="NotEnoughFunds",M.NoSuchContract="NoSuchContract",M.NoSuchPublicFunction="NoSuchPublicFunction",M.BadFunctionArgument="BadFunctionArgument",M.ContractAlreadyExists="ContractAlreadyExists",M.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",M.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",M.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",M.BadAddressVersionByte="BadAddressVersionByte",M.NoCoinbaseViaMempool="NoCoinbaseViaMempool",M.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",M.TooMuchChaining="TooMuchChaining",M.ConflictingNonceInMempool="ConflictingNonceInMempool",M.BadTransactionVersion="BadTransactionVersion",M.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",M.TransferAmountMustBePositive="TransferAmountMustBePositive",M.ServerFailureDatabase="ServerFailureDatabase",M.EstimatorError="EstimatorError",M.TemporarilyBlacklisted="TemporarilyBlacklisted",M.ServerFailureOther="ServerFailureOther";class tv extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class tA extends tv{constructor(t){super(t)}}function tx(t,e,n=0){return t[n+3]=e,e>>>=8,t[n+2]=e,e>>>=8,t[n+1]=e,e>>>=8,t[n]=e,t}n(8843),n(9330),n(9272),n(8101),n(1814),n(4357);let tM=(t,e)=>!!t&&tw(t).length>e;function tI(t,e){return tE([t,e])}function tC(t,e){let n=[],r="ascii"==e?function(t){let e=[];for(let n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return new Uint8Array(e)}(t.data):tw(t.data),i=new Uint8Array(4);return tx(i,r.length,0),n.push(i),n.push(r),tI(t.type,tE(n))}function tT(t){switch(t.type){case V.BoolTrue:case V.BoolFalse:return new Uint8Array([t.type]);case V.OptionalNone:case V.OptionalSome:return t.type===V.OptionalNone?new Uint8Array([t.type]):tI(t.type,tT(t.value));case V.Buffer:return function(t){let e=new Uint8Array(4);return tx(e,t.buffer.length,0),tI(t.type,tS(e,t.buffer))}(t);case V.UInt:return function(t){let e=td(t.value,16);return tI(t.type,e)}(t);case V.Int:return function(t){let e=td(function(t,e){if(t<-(BigInt(1)<<e-BigInt(1))||(BigInt(1)<<e-BigInt(1))-BigInt(1)<t)throw`Unable to represent integer in width: ${e}`;return t>=BigInt(0)?BigInt(t):t+(BigInt(1)<<e)}(t.value,BigInt(128)),16);return tI(t.type,e)}(t);case V.PrincipalStandard:return tI(t.type,tN(t.address));case V.PrincipalContract:return tI(t.type,tS(tN(t.address),tL(t.contractName)));case V.ResponseOk:case V.ResponseErr:return tI(t.type,tT(t.value));case V.List:return function(t){let e=[],n=new Uint8Array(4);for(let r of(tx(n,t.list.length,0),e.push(n),t.list)){let t=tT(r);e.push(t)}return tI(t.type,tE(e))}(t);case V.Tuple:return function(t){let e=[],n=new Uint8Array(4);for(let r of(tx(n,Object.keys(t.data).length,0),e.push(n),Object.keys(t.data).sort((t,e)=>t.localeCompare(e)))){let n=function(t,e,n){if(tM(t,128))throw Error("String length exceeds maximum bytes 128");return{type:j.LengthPrefixedString,content:t,lengthPrefixBytes:1,maxLengthBytes:128}}(r);e.push(tL(n));let i=tT(t.data[r]);e.push(i)}return tI(t.type,tE(e))}(t);case V.StringASCII:return tC(t,"ascii");case V.StringUTF8:return tC(t,"utf8");default:throw new tA("Unable to serialize. Invalid Clarity Value.")}}function tN(t){let e=[];return e.push(tg(th(t.version,1))),e.push(tg(t.hash160)),tE(e)}function tL(t){let e=[],n=tw(t.content),r=n.byteLength;return e.push(tg(th(r,t.lengthPrefixBytes))),e.push(n),tE(e)}function tj(t){let e=[];if(e.push(t.conditionType),e.push(function(t){let e=[];return e.push(t.prefix),e.push(tN(t.address)),t.prefix===K.Contract&&e.push(tL(t.contractName)),tE(e)}(t.principal)),(t.conditionType===k.Fungible||t.conditionType===k.NonFungible)&&e.push(function(t){let e=[];return e.push(tN(t.address)),e.push(tL(t.contractName)),e.push(tL(t.assetName)),tE(e)}(t.assetInfo)),t.conditionType===k.NonFungible&&e.push(tT(t.assetName)),e.push(t.conditionCode),t.conditionType===k.STX||t.conditionType===k.Fungible){if(t.amount>BigInt("0xffffffffffffffff"))throw new tA("The post-condition amount may not be larger than 8 bytes");e.push(td(tf(t.amount,!1),8))}return tE(e)}(I=V||(V={}))[I.Int=0]="Int",I[I.UInt=1]="UInt",I[I.Buffer=2]="Buffer",I[I.BoolTrue=3]="BoolTrue",I[I.BoolFalse=4]="BoolFalse",I[I.PrincipalStandard=5]="PrincipalStandard",I[I.PrincipalContract=6]="PrincipalContract",I[I.ResponseOk=7]="ResponseOk",I[I.ResponseErr=8]="ResponseErr",I[I.OptionalNone=9]="OptionalNone",I[I.OptionalSome=10]="OptionalSome",I[I.List=11]="List",I[I.Tuple=12]="Tuple",I[I.StringASCII=13]="StringASCII",I[I.StringUTF8=14]="StringUTF8";var t$=n(7410);let tD=()=>(0,t$.p)(),tP=(t,e)=>"undefined"==typeof window?Promise.resolve():tD().then(()=>(0,t$.b)([["connect-modal",[[1,"connect-modal",{defaultProviders:[16],installedProviders:[16],persistSelection:[4,"persist-selection"],callback:[16],cancelCallback:[16]}]]]],e));!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}();var tU=Object.defineProperty,tO=Object.defineProperties,tk=Object.getOwnPropertyDescriptors,tB=Object.getOwnPropertySymbols,t_=Object.prototype.hasOwnProperty,tH=Object.prototype.propertyIsEnumerable,tR=(t,e,n)=>e in t?tU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tz=(t,e)=>{for(var n in e||(e={}))t_.call(e,n)&&tR(t,n,e[n]);if(tB)for(var n of tB(e))tH.call(e,n)&&tR(t,n,e[n]);return t},tF=(t,e)=>tO(t,tk(e)),tK=(t,e)=>{var n={};for(var r in t)t_.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&tB)for(var r of tB(t))0>e.indexOf(r)&&tH.call(t,r)&&(n[r]=t[r]);return n};function tW(){return(0,Z.b)((0,Z.c)())||window.StacksProvider||window.BlockstackProvider}function tG(t){return t?"string"==typeof t?te.fromName(t):"version"in t?t:"url"in t?new tn({url:t.url}):t.transactionVersion===ts.Kn.Mainnet?new tn({url:t.client.baseUrl}):new tr({url:t.client.baseUrl}):new tr}"undefined"!=typeof window&&(window.__CONNECT_VERSION__="__VERSION__");var tV=t=>{if(!t){let e=new Y.X(["store_write"],document.location.href);t=new Q.V({appConfig:e})}return t},tY=async(t,e=tW())=>{if(!e)throw Error("[Connect] No installed Stacks wallet found");let{redirectTo:n="/",manifestPath:r,onFinish:i,onCancel:o,sendToSignIn:s=!1,userSession:a,appDetails:u}=t,c=tV(a);c.isUserSignedIn()&&c.signUserOut();let l=c.generateAndStoreTransitKey(),f=c.makeAuthRequest(l,`${document.location.origin}${n}`,`${document.location.origin}${r}`,c.appConfig.scopes,void 0,void 0,{sendToSignIn:s,appDetails:u,connectVersion:"__VERSION__"});try{let t=await e.authenticationRequest(f);await c.handlePendingSignIn(t);let n=(0,q.decodeToken)(t),r=null==n?void 0:n.payload;null==i||i({authResponse:t,authResponsePayload:r,userSession:c})}catch(t){console.error("[Connect] Error during auth request",t),null==o||o()}},tQ=((r=tQ||{}).ContractCall="contract_call",r.ContractDeploy="smart_contract",r.STXTransfer="token_transfer",r),tq=((i=tq||{}).BUFFER="buffer",i.UINT="uint",i.INT="int",i.PRINCIPAL="principal",i.BOOL="bool",i),tZ=t=>{let e=t;if(!e){let t=new Y.X(["store_write"],document.location.href);e=new Q.V({appConfig:t})}return e};function tX(t){try{return tZ(t).loadUserData().appPrivateKey}catch(t){return!1}}var tJ=t=>{let e=tZ(t).loadUserData().appPrivateKey,n=q.SECP256K1Client.derivePublicKey(e);return{privateKey:e,publicKey:n}};async function t0(t,e){let{postConditions:n}=t;return n&&n.length>0&&"string"!=typeof n[0]&&(n="string"==typeof n[0].type?n.map(tu.lE):n.map(t=>(0,ta.ci)(tj(t)))),new q.TokenSigner("ES256k",e).signAsync(tF(tz({},t),{postConditions:n}))}function t2(t){let{postConditions:e}=t;return e&&e.length>0&&"string"!=typeof e[0]&&(e="string"==typeof e[0].type?e.map(tu.lE):e.map(t=>(0,ta.ci)(tj(t)))),(0,q.createUnsecuredToken)(tF(tz({},t),{postConditions:e}))}var t1=async({token:t,options:e},n)=>{var r,i,o;try{let o=await n.transactionRequest(t),{txRaw:s}=o,a=(0,ta.nr)(s.replace(/^0x/,"")),u=(0,tc.y)(a);if("sponsored"in e&&e.sponsored){null==(r=e.onFinish)||r.call(e,tF(tz({},o),{stacksTransaction:u}));return}null==(i=e.onFinish)||i.call(e,tF(tz({},o),{stacksTransaction:u}))}catch(t){console.error("[Connect] Error during transaction request",t),null==(o=e.onCancel)||o.call(e)}},t4=async t=>{let{functionArgs:e,appDetails:n,userSession:r}=t,i=tK(t,["functionArgs","appDetails","userSession"]),o=e.map(t=>"string"==typeof t?t:"string"==typeof t.type?(0,tl.a)(t):(0,ta.ci)(tT(t)));if(tX(r)){let{privateKey:t,publicKey:e}=tJ(r),s=tF(tz({},i),{functionArgs:o,txType:"contract_call",publicKey:e});return n&&(s.appDetails=n),t0(s,t)}let s=tF(tz({},i),{functionArgs:o,txType:"contract_call"});return n&&(s.appDetails=n),t2(s)},t3=async t=>{let{appDetails:e,userSession:n}=t,r=tK(t,["appDetails","userSession"]);if(tX(n)){let{privateKey:t,publicKey:i}=tJ(n),o=tF(tz({},r),{publicKey:i,txType:"smart_contract"});return e&&(o.appDetails=e),t0(o,t)}let i=tF(tz({},r),{txType:"smart_contract"});return e&&(i.appDetails=e),t2(i)},t8=async t=>{let{amount:e,appDetails:n,userSession:r}=t,i=tK(t,["amount","appDetails","userSession"]);if(tX(r)){let{privateKey:t,publicKey:o}=tJ(r),s=tF(tz({},i),{amount:e.toString(10),publicKey:o,txType:"token_transfer"});return n&&(s.appDetails=n),t0(s,t)}let o=tF(tz({},i),{amount:e.toString(10),txType:"token_transfer"});return n&&(o.appDetails=n),t2(o)},t6=async t=>{let{txHex:e,appDetails:n,userSession:r}=t,i=tK(t,["txHex","appDetails","userSession"]);if(tX(r)){let{privateKey:t,publicKey:o}=tJ(r),s=tF(tz({},i),{txHex:e,publicKey:o});return n&&(s.appDetails=n),t0(s,t)}let o=tF(tz({},i),{txHex:e});return n&&(o.appDetails=n),t2(o)};async function t5(t,e,n){let r,i,o;return t1({token:await e(tF(tz(tz({},(r=tG(t.network),i=tZ(t.userSession),o=tF(tz({},t),{network:r,userSession:i}),tz({stxAddress:function(t){var e;let{stxAddress:n,userSession:r,network:i}=t;if(n)return n;if(!r||!i)return;let o=null==(e=null==r?void 0:r.loadUserData().profile)?void 0:e.stxAddress,s={[ts.a_.Mainnet]:"mainnet",[ts.a_.Testnet]:"testnet"},a=tG(i);return null==o?void 0:o[s[a.chainId]]}(o)},o))),t),{network:tG(t.network)})),options:t},n)}async function t9(t,e){return new q.TokenSigner("ES256k",e).signAsync(tz({},t))}async function t7({token:t,options:e},n){var r,i;if(!n)throw Error("[Connect] No installed Stacks wallet found");try{let i=await n.psbtRequest(t);null==(r=e.onFinish)||r.call(e,i)}catch(t){console.error("[Connect] Error during psbt request",t),null==(i=e.onCancel)||i.call(e)}}var et=async t=>{let{allowedSighash:e,hex:n,signAtIndex:r,userSession:i}=t,o=tK(t,["allowedSighash","hex","signAtIndex","userSession"]);if(tX(i)){let{privateKey:t,publicKey:s}=tJ(i);return t9(tF(tz({},o),{allowedSighash:e,hex:n,signAtIndex:r,publicKey:s}),t)}let s=tz({},o);return(0,q.createUnsecuredToken)(s)};async function ee(t,e,n){let r,i,o;return t7({token:await e(tz(tz({},(r=tG(t.network),i=tZ(t.userSession),o=tF(tz({},t),{network:r,userSession:i}),tz({},o))),t)),options:t},n)}async function en(t,e){return new q.TokenSigner("ES256k",e).signAsync(tz({},t))}function er(t){let e=tG(t.network),n=tZ(t.userSession),r=tF(tz({},t),{network:e,userSession:n});return tz({stxAddress:function(t){var e;let{userSession:n,network:r}=t;if(!n||!r)return;let i=null==(e=null==n?void 0:n.loadUserData().profile)?void 0:e.stxAddress,o={[ts.a_.Mainnet]:"mainnet",[ts.a_.Testnet]:"testnet"},s=tG(r);return null==i?void 0:i[o[s.chainId]]}(r)},r)}async function ei({token:t,options:e},n){var r,i;try{let i=await n.signatureRequest(t);null==(r=e.onFinish)||r.call(e,i)}catch(t){console.error("[Connect] Error during signature request",t),null==(i=e.onCancel)||i.call(e)}}var eo=async t=>{let{userSession:e}=t,n=tK(t,["userSession"]);if(tX(e)){let{privateKey:t,publicKey:r}=tJ(e);return en(tF(tz({},n),{publicKey:r}),t)}let r=tz({},n);return(0,q.createUnsecuredToken)(r)};async function es(t,e,n){return ei({token:await e(tz(tz({},er(t)),t)),options:t},n)}async function ea(t,e,n){return ef({token:await e(tz(tz({},er(t)),t)),options:t},n)}function eu(t){let{message:e,domain:n}=t;return"string"==typeof e.type&&"string"==typeof n.type?tF(tz({},t),{message:(0,tl.a)(e),domain:(0,tl.a)(n)}):tF(tz({},t),{message:(0,ta.ci)(tT(e)),domain:(0,ta.ci)(tT(n))})}async function ec(t,e){return new q.TokenSigner("ES256k",e).signAsync(eu(t))}async function el(t){let{userSession:e}=t,n=tK(t,["userSession"]);if(tX(e)){let{privateKey:t,publicKey:r}=tJ(e);return ec(tF(tz({},n),{publicKey:r}),t)}return(0,q.createUnsecuredToken)(eu(t))}async function ef({token:t,options:e},n){var r,i;try{let i=await n.structuredDataSignatureRequest(t);null==(r=e.onFinish)||r.call(e,i)}catch(t){console.error("[Connect] Error during signature request",t),null==(i=e.onCancel)||i.call(e)}}async function eh(t,e){return new q.TokenSigner("ES256k",e).signAsync(tz({},t))}async function ed({token:t,options:e},n){var r,i;try{let i=await n.profileUpdateRequest(t);null==(r=e.onFinish)||r.call(e,i)}catch(t){console.error("[Connect] Error during signature request",t),null==(i=e.onCancel)||i.call(e)}}var ep=async t=>{let{userSession:e,profile:n}=t,r=tK(t,["userSession","profile"]);if(tX(e)){let{privateKey:t,publicKey:i}=tJ(e);return eh(tF(tz({},r),{profile:n,publicKey:i}),t)}let i=tz({},r);return(0,q.createUnsecuredToken)(i)};async function ey(t,e,n){let r,i,o;return ed({token:await e(tz(tz({},(r=tG(t.network),i=tZ(t.userSession),o=tF(tz({},t),{network:r,userSession:i}),tz({},o))),t)),options:t},n)}var eg=((o=eg||{})[o.DEFAULT=0]="DEFAULT",o[o.ALL=1]="ALL",o[o.NONE=2]="NONE",o[o.SINGLE=3]="SINGLE",o[o.ANYONECANPAY=128]="ANYONECANPAY",o),ew=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.StacksProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/asigna-multisig/gopddoinbenlokghakiafackadkbnlid"}];function em(t,e=!0){return function(n,r){var i;if(r)return t(n,r);let o=(0,Z.c)(),s=tW();if(o&&s)return t(n,s);if("undefined"==typeof window)return;tP(window);let a=null!=(i=null==n?void 0:n.defaultProviders)?i:ew,u=(0,Z.a)(a),c=document.createElement("connect-modal");c.defaultProviders=a,c.installedProviders=u,c.persistSelection=e;let l=document.body.style.overflow;document.body.style.overflow="hidden";let f=()=>{c.remove(),document.body.style.overflow=l};c.callback=e=>{f(),t(n,e)},c.cancelCallback=()=>{var t;f(),null==(t=n.onCancel)||t.call(n)},document.body.appendChild(c);let h=t=>{"Escape"===t.key&&(document.removeEventListener("keydown",h),c.remove())};document.addEventListener("keydown",h)}}var eb=em(tY,!1);em(function(t,e=tW()){if(!e)throw Error("[Connect] No installed Stacks wallet found");return t5(t,t8,e)}),em(function(t,e=tW()){if(!e)throw Error("[Connect] No installed Stacks wallet found");return t5(t,t4,e)}),em(function(t,e=tW()){if(!e)throw Error("[Connect] No installed Stacks wallet found");return t5(t,t3,e)}),em(function(t,e=tW()){if(!e)throw Error("[Connect] No installed Stacks wallet found");return t5(t,t6,e)}),em(function(t,e=tW()){return ee(t,et,e)}),em(function(t,e=tW()){if(!e)throw Error("[Connect] No installed Stacks wallet found");return ey(t,ep,e)}),em(function(t,e=tW()){if(!e)throw Error("[Connect] No installed Stacks wallet found");return es(t,eo,e)}),em(function(t,e=tW()){if(!e)throw Error("[Connect] No installed Stacks wallet found");return ea(t,el,e)})},5922:function(t,e,n){"use strict";n.d(e,{F:function(){return l},f:function(){return f}});var r=n(2265),i=(t,e,n,r,i,o,s,a)=>{let u=document.documentElement,c=["light","dark"];function l(e){(Array.isArray(t)?t:[t]).forEach(t=>{let n="class"===t,r=n&&o?i.map(t=>o[t]||t):i;n?(u.classList.remove(...r),u.classList.add(e)):u.setAttribute(t,e)}),a&&c.includes(e)&&(u.style.colorScheme=e)}if(r)l(r);else try{let t=localStorage.getItem(e)||n,r=s&&"system"===t?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t;l(r)}catch(t){}},o=["light","dark"],s="(prefers-color-scheme: dark)",a="undefined"==typeof window,u=r.createContext(void 0),c={setTheme:t=>{},themes:[]},l=()=>{var t;return null!=(t=r.useContext(u))?t:c},f=t=>r.useContext(u)?r.createElement(r.Fragment,null,t.children):r.createElement(d,{...t}),h=["light","dark"],d=t=>{let{forcedTheme:e,disableTransitionOnChange:n=!1,enableSystem:i=!0,enableColorScheme:a=!0,storageKey:c="theme",themes:l=h,defaultTheme:f=i?"system":"light",attribute:d="data-theme",value:m,children:b,nonce:S,scriptProps:E}=t,[v,A]=r.useState(()=>y(c,f)),[x,M]=r.useState(()=>y(c)),I=m?Object.values(m):l,C=r.useCallback(t=>{let e=t;if(!e)return;"system"===t&&i&&(e=w());let r=m?m[e]:e,s=n?g(S):null,u=document.documentElement,c=t=>{"class"===t?(u.classList.remove(...I),r&&u.classList.add(r)):t.startsWith("data-")&&(r?u.setAttribute(t,r):u.removeAttribute(t))};if(Array.isArray(d)?d.forEach(c):c(d),a){let t=o.includes(f)?f:null,n=o.includes(e)?e:t;u.style.colorScheme=n}null==s||s()},[S]),T=r.useCallback(t=>{let e="function"==typeof t?t(v):t;A(e);try{localStorage.setItem(c,e)}catch(t){}},[v]),N=r.useCallback(t=>{M(w(t)),"system"===v&&i&&!e&&C("system")},[v,e]);r.useEffect(()=>{let t=window.matchMedia(s);return t.addListener(N),N(t),()=>t.removeListener(N)},[N]),r.useEffect(()=>{let t=t=>{t.key===c&&(t.newValue?A(t.newValue):T(f))};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[T]),r.useEffect(()=>{C(null!=e?e:v)},[e,v]);let L=r.useMemo(()=>({theme:v,setTheme:T,forcedTheme:e,resolvedTheme:"system"===v?x:v,themes:i?[...l,"system"]:l,systemTheme:i?x:void 0}),[v,T,e,x,i,l]);return r.createElement(u.Provider,{value:L},r.createElement(p,{forcedTheme:e,storageKey:c,attribute:d,enableSystem:i,enableColorScheme:a,defaultTheme:f,value:m,themes:l,nonce:S,scriptProps:E}),b)},p=r.memo(t=>{let{forcedTheme:e,storageKey:n,attribute:o,enableSystem:s,enableColorScheme:a,defaultTheme:u,value:c,themes:l,nonce:f,scriptProps:h}=t,d=JSON.stringify([o,n,u,e,l,c,s,a]).slice(1,-1);return r.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?f:"",dangerouslySetInnerHTML:{__html:"(".concat(i.toString(),")(").concat(d,")")}})}),y=(t,e)=>{let n;if(!a){try{n=localStorage.getItem(t)||void 0}catch(t){}return n||e}},g=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},w=t=>(t||(t=window.matchMedia(s)),t.matches?"dark":"light")}}]);